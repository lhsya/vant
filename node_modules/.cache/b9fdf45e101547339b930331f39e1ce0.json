{"remainingRequest":"/Users/adamliu/vant/node_modules/babel-loader/lib/index.js!/Users/adamliu/vant/src/swipe/index.js","dependencies":[{"path":"/Users/adamliu/vant/src/swipe/index.js","mtime":1694509705046},{"path":"/Users/adamliu/vant/babel.config.js","mtime":1694509704583},{"path":"/Users/adamliu/vant/node_modules/cache-loader/dist/cjs.js","mtime":1694509793427},{"path":"/Users/adamliu/vant/node_modules/babel-loader/lib/index.js","mtime":1694509794381}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gVXRpbHMKaW1wb3J0IHsgY3JlYXRlTmFtZXNwYWNlIH0gZnJvbSAnLi4vdXRpbHMnOwppbXBvcnQgeyBpc0hpZGRlbiB9IGZyb20gJy4uL3V0aWxzL2RvbS9zdHlsZSc7CmltcG9ydCB7IHByZXZlbnREZWZhdWx0IH0gZnJvbSAnLi4vdXRpbHMvZG9tL2V2ZW50JzsKaW1wb3J0IHsgZG91YmxlUmFmIH0gZnJvbSAnLi4vdXRpbHMvZG9tL3JhZic7CmltcG9ydCB7IHJhbmdlIH0gZnJvbSAnLi4vdXRpbHMvZm9ybWF0L251bWJlcic7CgovLyBNaXhpbnMKaW1wb3J0IHsgVG91Y2hNaXhpbiB9IGZyb20gJy4uL21peGlucy90b3VjaCc7CmltcG9ydCB7IFBhcmVudE1peGluIH0gZnJvbSAnLi4vbWl4aW5zL3JlbGF0aW9uJzsKaW1wb3J0IHsgQmluZEV2ZW50TWl4aW4gfSBmcm9tICcuLi9taXhpbnMvYmluZC1ldmVudCc7CnZhciBfY3JlYXRlTmFtZXNwYWNlID0gY3JlYXRlTmFtZXNwYWNlKCdzd2lwZScpLAogIGNyZWF0ZUNvbXBvbmVudCA9IF9jcmVhdGVOYW1lc3BhY2VbMF0sCiAgYmVtID0gX2NyZWF0ZU5hbWVzcGFjZVsxXTsKZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KHsKICBtaXhpbnM6IFtUb3VjaE1peGluLCBQYXJlbnRNaXhpbigndmFuU3dpcGUnKSwgQmluZEV2ZW50TWl4aW4oZnVuY3Rpb24gKGJpbmQsIGlzQmluZCkgewogICAgYmluZCh3aW5kb3csICdyZXNpemUnLCB0aGlzLnJlc2l6ZSwgdHJ1ZSk7CiAgICBiaW5kKHdpbmRvdywgJ29yaWVudGF0aW9uY2hhbmdlJywgdGhpcy5yZXNpemUsIHRydWUpOwogICAgYmluZCh3aW5kb3csICd2aXNpYmlsaXR5Y2hhbmdlJywgdGhpcy5vblZpc2liaWxpdHlDaGFuZ2UpOwogICAgaWYgKGlzQmluZCkgewogICAgICB0aGlzLmluaXRpYWxpemUoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuY2xlYXIoKTsKICAgIH0KICB9KV0sCiAgcHJvcHM6IHsKICAgIHdpZHRoOiBbTnVtYmVyLCBTdHJpbmddLAogICAgaGVpZ2h0OiBbTnVtYmVyLCBTdHJpbmddLAogICAgYXV0b3BsYXk6IFtOdW1iZXIsIFN0cmluZ10sCiAgICB2ZXJ0aWNhbDogQm9vbGVhbiwKICAgIGxhenlSZW5kZXI6IEJvb2xlYW4sCiAgICBpbmRpY2F0b3JDb2xvcjogU3RyaW5nLAogICAgbG9vcDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgZHVyYXRpb246IHsKICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwKICAgICAgZGVmYXVsdDogNTAwCiAgICB9LAogICAgdG91Y2hhYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBpbml0aWFsU3dpcGU6IHsKICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIHNob3dJbmRpY2F0b3JzOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBzdG9wUHJvcGFnYXRpb246IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlY3Q6IG51bGwsCiAgICAgIG9mZnNldDogMCwKICAgICAgYWN0aXZlOiAwLAogICAgICBkZWx0YVg6IDAsCiAgICAgIGRlbHRhWTogMCwKICAgICAgc3dpcGluZzogZmFsc2UsCiAgICAgIGNvbXB1dGVkV2lkdGg6IDAsCiAgICAgIGNvbXB1dGVkSGVpZ2h0OiAwCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGNoaWxkcmVuOiBmdW5jdGlvbiBjaGlsZHJlbigpIHsKICAgICAgdGhpcy5pbml0aWFsaXplKCk7CiAgICB9LAogICAgaW5pdGlhbFN3aXBlOiBmdW5jdGlvbiBpbml0aWFsU3dpcGUoKSB7CiAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpOwogICAgfSwKICAgIGF1dG9wbGF5OiBmdW5jdGlvbiBhdXRvcGxheShfYXV0b3BsYXkpIHsKICAgICAgaWYgKF9hdXRvcGxheSA+IDApIHsKICAgICAgICB0aGlzLmF1dG9QbGF5KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jbGVhcigpOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgY291bnQ6IGZ1bmN0aW9uIGNvdW50KCkgewogICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGg7CiAgICB9LAogICAgbWF4Q291bnQ6IGZ1bmN0aW9uIG1heENvdW50KCkgewogICAgICByZXR1cm4gTWF0aC5jZWlsKE1hdGguYWJzKHRoaXMubWluT2Zmc2V0KSAvIHRoaXMuc2l6ZSk7CiAgICB9LAogICAgZGVsdGE6IGZ1bmN0aW9uIGRlbHRhKCkgewogICAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbCA/IHRoaXMuZGVsdGFZIDogdGhpcy5kZWx0YVg7CiAgICB9LAogICAgc2l6ZTogZnVuY3Rpb24gc2l6ZSgpIHsKICAgICAgcmV0dXJuIHRoaXNbdGhpcy52ZXJ0aWNhbCA/ICdjb21wdXRlZEhlaWdodCcgOiAnY29tcHV0ZWRXaWR0aCddOwogICAgfSwKICAgIHRyYWNrU2l6ZTogZnVuY3Rpb24gdHJhY2tTaXplKCkgewogICAgICByZXR1cm4gdGhpcy5jb3VudCAqIHRoaXMuc2l6ZTsKICAgIH0sCiAgICBhY3RpdmVJbmRpY2F0b3I6IGZ1bmN0aW9uIGFjdGl2ZUluZGljYXRvcigpIHsKICAgICAgcmV0dXJuICh0aGlzLmFjdGl2ZSArIHRoaXMuY291bnQpICUgdGhpcy5jb3VudDsKICAgIH0sCiAgICBpc0NvcnJlY3REaXJlY3Rpb246IGZ1bmN0aW9uIGlzQ29ycmVjdERpcmVjdGlvbigpIHsKICAgICAgdmFyIGV4cGVjdCA9IHRoaXMudmVydGljYWwgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnOwogICAgICByZXR1cm4gdGhpcy5kaXJlY3Rpb24gPT09IGV4cGVjdDsKICAgIH0sCiAgICB0cmFja1N0eWxlOiBmdW5jdGlvbiB0cmFja1N0eWxlKCkgewogICAgICB2YXIgc3R5bGUgPSB7CiAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiAodGhpcy5zd2lwaW5nID8gMCA6IHRoaXMuZHVyYXRpb24pICsgIm1zIiwKICAgICAgICB0cmFuc2Zvcm06ICJ0cmFuc2xhdGUiICsgKHRoaXMudmVydGljYWwgPyAnWScgOiAnWCcpICsgIigiICsgdGhpcy5vZmZzZXQgKyAicHgpIgogICAgICB9OwogICAgICBpZiAodGhpcy5zaXplKSB7CiAgICAgICAgdmFyIG1haW5BeGlzID0gdGhpcy52ZXJ0aWNhbCA/ICdoZWlnaHQnIDogJ3dpZHRoJzsKICAgICAgICB2YXIgY3Jvc3NBeGlzID0gdGhpcy52ZXJ0aWNhbCA/ICd3aWR0aCcgOiAnaGVpZ2h0JzsKICAgICAgICBzdHlsZVttYWluQXhpc10gPSB0aGlzLnRyYWNrU2l6ZSArICJweCI7CiAgICAgICAgc3R5bGVbY3Jvc3NBeGlzXSA9IHRoaXNbY3Jvc3NBeGlzXSA/IHRoaXNbY3Jvc3NBeGlzXSArICJweCIgOiAnJzsKICAgICAgfQogICAgICByZXR1cm4gc3R5bGU7CiAgICB9LAogICAgaW5kaWNhdG9yU3R5bGU6IGZ1bmN0aW9uIGluZGljYXRvclN0eWxlKCkgewogICAgICByZXR1cm4gewogICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5pbmRpY2F0b3JDb2xvcgogICAgICB9OwogICAgfSwKICAgIG1pbk9mZnNldDogZnVuY3Rpb24gbWluT2Zmc2V0KCkgewogICAgICByZXR1cm4gKHRoaXMudmVydGljYWwgPyB0aGlzLnJlY3QuaGVpZ2h0IDogdGhpcy5yZWN0LndpZHRoKSAtIHRoaXMuc2l6ZSAqIHRoaXMuY291bnQ7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5iaW5kVG91Y2hFdmVudCh0aGlzLiRyZWZzLnRyYWNrKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIGluaXRpYWxpemUgc3dpcGUgcG9zaXRpb24KICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoYWN0aXZlKSB7CiAgICAgIGlmIChhY3RpdmUgPT09IHZvaWQgMCkgewogICAgICAgIGFjdGl2ZSA9ICt0aGlzLmluaXRpYWxTd2lwZTsKICAgICAgfQogICAgICBpZiAoIXRoaXMuJGVsIHx8IGlzSGlkZGVuKHRoaXMuJGVsKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7CiAgICAgIHZhciByZWN0ID0gewogICAgICAgIHdpZHRoOiB0aGlzLiRlbC5vZmZzZXRXaWR0aCwKICAgICAgICBoZWlnaHQ6IHRoaXMuJGVsLm9mZnNldEhlaWdodAogICAgICB9OwogICAgICB0aGlzLnJlY3QgPSByZWN0OwogICAgICB0aGlzLnN3aXBpbmcgPSB0cnVlOwogICAgICB0aGlzLmFjdGl2ZSA9IGFjdGl2ZTsKICAgICAgdGhpcy5jb21wdXRlZFdpZHRoID0gK3RoaXMud2lkdGggfHwgcmVjdC53aWR0aDsKICAgICAgdGhpcy5jb21wdXRlZEhlaWdodCA9ICt0aGlzLmhlaWdodCB8fCByZWN0LmhlaWdodDsKICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLmdldFRhcmdldE9mZnNldChhY3RpdmUpOwogICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKHN3aXBlKSB7CiAgICAgICAgc3dpcGUub2Zmc2V0ID0gMDsKICAgICAgfSk7CiAgICAgIHRoaXMuYXV0b1BsYXkoKTsKICAgIH0sCiAgICAvLyBAZXhwb3NlZC1hcGkKICAgIHJlc2l6ZTogZnVuY3Rpb24gcmVzaXplKCkgewogICAgICB0aGlzLmluaXRpYWxpemUodGhpcy5hY3RpdmVJbmRpY2F0b3IpOwogICAgfSwKICAgIG9uVmlzaWJpbGl0eUNoYW5nZTogZnVuY3Rpb24gb25WaXNpYmlsaXR5Q2hhbmdlKCkgewogICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7CiAgICAgICAgdGhpcy5jbGVhcigpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYXV0b1BsYXkoKTsKICAgICAgfQogICAgfSwKICAgIG9uVG91Y2hTdGFydDogZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGV2ZW50KSB7CiAgICAgIGlmICghdGhpcy50b3VjaGFibGUpIHJldHVybjsKICAgICAgdGhpcy5jbGVhcigpOwogICAgICB0aGlzLnRvdWNoU3RhcnRUaW1lID0gRGF0ZS5ub3coKTsKICAgICAgdGhpcy50b3VjaFN0YXJ0KGV2ZW50KTsKICAgICAgdGhpcy5jb3JyZWN0UG9zaXRpb24oKTsKICAgIH0sCiAgICBvblRvdWNoTW92ZTogZnVuY3Rpb24gb25Ub3VjaE1vdmUoZXZlbnQpIHsKICAgICAgaWYgKCF0aGlzLnRvdWNoYWJsZSB8fCAhdGhpcy5zd2lwaW5nKSByZXR1cm47CiAgICAgIHRoaXMudG91Y2hNb3ZlKGV2ZW50KTsKICAgICAgaWYgKHRoaXMuaXNDb3JyZWN0RGlyZWN0aW9uKSB7CiAgICAgICAgcHJldmVudERlZmF1bHQoZXZlbnQsIHRoaXMuc3RvcFByb3BhZ2F0aW9uKTsKICAgICAgICB0aGlzLm1vdmUoewogICAgICAgICAgb2Zmc2V0OiB0aGlzLmRlbHRhCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvblRvdWNoRW5kOiBmdW5jdGlvbiBvblRvdWNoRW5kKCkgewogICAgICBpZiAoIXRoaXMudG91Y2hhYmxlIHx8ICF0aGlzLnN3aXBpbmcpIHJldHVybjsKICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemUsCiAgICAgICAgZGVsdGEgPSB0aGlzLmRlbHRhOwogICAgICB2YXIgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gdGhpcy50b3VjaFN0YXJ0VGltZTsKICAgICAgdmFyIHNwZWVkID0gZGVsdGEgLyBkdXJhdGlvbjsKICAgICAgdmFyIHNob3VsZFN3aXBlID0gTWF0aC5hYnMoc3BlZWQpID4gMC4yNSB8fCBNYXRoLmFicyhkZWx0YSkgPiBzaXplIC8gMjsKICAgICAgaWYgKHNob3VsZFN3aXBlICYmIHRoaXMuaXNDb3JyZWN0RGlyZWN0aW9uKSB7CiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMudmVydGljYWwgPyB0aGlzLm9mZnNldFkgOiB0aGlzLm9mZnNldFg7CiAgICAgICAgdmFyIHBhY2UgPSAwOwogICAgICAgIGlmICh0aGlzLmxvb3ApIHsKICAgICAgICAgIHBhY2UgPSBvZmZzZXQgPiAwID8gZGVsdGEgPiAwID8gLTEgOiAxIDogMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGFjZSA9IC1NYXRoW2RlbHRhID4gMCA/ICdjZWlsJyA6ICdmbG9vciddKGRlbHRhIC8gc2l6ZSk7CiAgICAgICAgfQogICAgICAgIHRoaXMubW92ZSh7CiAgICAgICAgICBwYWNlOiBwYWNlLAogICAgICAgICAgZW1pdENoYW5nZTogdHJ1ZQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGRlbHRhKSB7CiAgICAgICAgdGhpcy5tb3ZlKHsKICAgICAgICAgIHBhY2U6IDAKICAgICAgICB9KTsKICAgICAgfQogICAgICB0aGlzLnN3aXBpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5hdXRvUGxheSgpOwogICAgfSwKICAgIGdldFRhcmdldEFjdGl2ZTogZnVuY3Rpb24gZ2V0VGFyZ2V0QWN0aXZlKHBhY2UpIHsKICAgICAgdmFyIGFjdGl2ZSA9IHRoaXMuYWN0aXZlLAogICAgICAgIGNvdW50ID0gdGhpcy5jb3VudCwKICAgICAgICBtYXhDb3VudCA9IHRoaXMubWF4Q291bnQ7CiAgICAgIGlmIChwYWNlKSB7CiAgICAgICAgaWYgKHRoaXMubG9vcCkgewogICAgICAgICAgcmV0dXJuIHJhbmdlKGFjdGl2ZSArIHBhY2UsIC0xLCBjb3VudCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByYW5nZShhY3RpdmUgKyBwYWNlLCAwLCBtYXhDb3VudCk7CiAgICAgIH0KICAgICAgcmV0dXJuIGFjdGl2ZTsKICAgIH0sCiAgICBnZXRUYXJnZXRPZmZzZXQ6IGZ1bmN0aW9uIGdldFRhcmdldE9mZnNldCh0YXJnZXRBY3RpdmUsIG9mZnNldCkgewogICAgICBpZiAob2Zmc2V0ID09PSB2b2lkIDApIHsKICAgICAgICBvZmZzZXQgPSAwOwogICAgICB9CiAgICAgIHZhciBjdXJyZW50UG9zaXRpb24gPSB0YXJnZXRBY3RpdmUgKiB0aGlzLnNpemU7CiAgICAgIGlmICghdGhpcy5sb29wKSB7CiAgICAgICAgY3VycmVudFBvc2l0aW9uID0gTWF0aC5taW4oY3VycmVudFBvc2l0aW9uLCAtdGhpcy5taW5PZmZzZXQpOwogICAgICB9CiAgICAgIHZhciB0YXJnZXRPZmZzZXQgPSBvZmZzZXQgLSBjdXJyZW50UG9zaXRpb247CiAgICAgIGlmICghdGhpcy5sb29wKSB7CiAgICAgICAgdGFyZ2V0T2Zmc2V0ID0gcmFuZ2UodGFyZ2V0T2Zmc2V0LCB0aGlzLm1pbk9mZnNldCwgMCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRhcmdldE9mZnNldDsKICAgIH0sCiAgICBtb3ZlOiBmdW5jdGlvbiBtb3ZlKF9yZWYpIHsKICAgICAgdmFyIF9yZWYkcGFjZSA9IF9yZWYucGFjZSwKICAgICAgICBwYWNlID0gX3JlZiRwYWNlID09PSB2b2lkIDAgPyAwIDogX3JlZiRwYWNlLAogICAgICAgIF9yZWYkb2Zmc2V0ID0gX3JlZi5vZmZzZXQsCiAgICAgICAgb2Zmc2V0ID0gX3JlZiRvZmZzZXQgPT09IHZvaWQgMCA/IDAgOiBfcmVmJG9mZnNldCwKICAgICAgICBlbWl0Q2hhbmdlID0gX3JlZi5lbWl0Q2hhbmdlOwogICAgICB2YXIgbG9vcCA9IHRoaXMubG9vcCwKICAgICAgICBjb3VudCA9IHRoaXMuY291bnQsCiAgICAgICAgYWN0aXZlID0gdGhpcy5hY3RpdmUsCiAgICAgICAgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuLAogICAgICAgIHRyYWNrU2l6ZSA9IHRoaXMudHJhY2tTaXplLAogICAgICAgIG1pbk9mZnNldCA9IHRoaXMubWluT2Zmc2V0OwogICAgICBpZiAoY291bnQgPD0gMSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgdGFyZ2V0QWN0aXZlID0gdGhpcy5nZXRUYXJnZXRBY3RpdmUocGFjZSk7CiAgICAgIHZhciB0YXJnZXRPZmZzZXQgPSB0aGlzLmdldFRhcmdldE9mZnNldCh0YXJnZXRBY3RpdmUsIG9mZnNldCk7CgogICAgICAvLyBhdXRvIG1vdmUgZmlyc3QgYW5kIGxhc3Qgc3dpcGUgaW4gbG9vcCBtb2RlCiAgICAgIGlmIChsb29wKSB7CiAgICAgICAgaWYgKGNoaWxkcmVuWzBdICYmIHRhcmdldE9mZnNldCAhPT0gbWluT2Zmc2V0KSB7CiAgICAgICAgICB2YXIgb3V0UmlnaHRCb3VuZCA9IHRhcmdldE9mZnNldCA8IG1pbk9mZnNldDsKICAgICAgICAgIGNoaWxkcmVuWzBdLm9mZnNldCA9IG91dFJpZ2h0Qm91bmQgPyB0cmFja1NpemUgOiAwOwogICAgICAgIH0KICAgICAgICBpZiAoY2hpbGRyZW5bY291bnQgLSAxXSAmJiB0YXJnZXRPZmZzZXQgIT09IDApIHsKICAgICAgICAgIHZhciBvdXRMZWZ0Qm91bmQgPSB0YXJnZXRPZmZzZXQgPiAwOwogICAgICAgICAgY2hpbGRyZW5bY291bnQgLSAxXS5vZmZzZXQgPSBvdXRMZWZ0Qm91bmQgPyAtdHJhY2tTaXplIDogMDsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5hY3RpdmUgPSB0YXJnZXRBY3RpdmU7CiAgICAgIHRoaXMub2Zmc2V0ID0gdGFyZ2V0T2Zmc2V0OwogICAgICBpZiAoZW1pdENoYW5nZSAmJiB0YXJnZXRBY3RpdmUgIT09IGFjdGl2ZSkgewogICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMuYWN0aXZlSW5kaWNhdG9yKTsKICAgICAgfQogICAgfSwKICAgIC8vIEBleHBvc2VkLWFwaQogICAgcHJldjogZnVuY3Rpb24gcHJldigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy5jb3JyZWN0UG9zaXRpb24oKTsKICAgICAgdGhpcy5yZXNldFRvdWNoU3RhdHVzKCk7CiAgICAgIGRvdWJsZVJhZihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuc3dpcGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzLm1vdmUoewogICAgICAgICAgcGFjZTogLTEsCiAgICAgICAgICBlbWl0Q2hhbmdlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIEBleHBvc2VkLWFwaQogICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMuY29ycmVjdFBvc2l0aW9uKCk7CiAgICAgIHRoaXMucmVzZXRUb3VjaFN0YXR1cygpOwogICAgICBkb3VibGVSYWYoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5zd2lwaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMyLm1vdmUoewogICAgICAgICAgcGFjZTogMSwKICAgICAgICAgIGVtaXRDaGFuZ2U6IHRydWUKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gQGV4cG9zZWQtYXBpCiAgICBzd2lwZVRvOiBmdW5jdGlvbiBzd2lwZVRvKGluZGV4LCBvcHRpb25zKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7CiAgICAgICAgb3B0aW9ucyA9IHt9OwogICAgICB9CiAgICAgIHRoaXMuY29ycmVjdFBvc2l0aW9uKCk7CiAgICAgIHRoaXMucmVzZXRUb3VjaFN0YXR1cygpOwogICAgICBkb3VibGVSYWYoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB0YXJnZXRJbmRleDsKICAgICAgICBpZiAoX3RoaXMzLmxvb3AgJiYgaW5kZXggPT09IF90aGlzMy5jb3VudCkgewogICAgICAgICAgdGFyZ2V0SW5kZXggPSBfdGhpczMuYWN0aXZlID09PSAwID8gMCA6IGluZGV4OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0YXJnZXRJbmRleCA9IGluZGV4ICUgX3RoaXMzLmNvdW50OwogICAgICAgIH0KICAgICAgICBpZiAob3B0aW9ucy5pbW1lZGlhdGUpIHsKICAgICAgICAgIGRvdWJsZVJhZihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMy5zd2lwaW5nID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMzLnN3aXBpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgX3RoaXMzLm1vdmUoewogICAgICAgICAgcGFjZTogdGFyZ2V0SW5kZXggLSBfdGhpczMuYWN0aXZlLAogICAgICAgICAgZW1pdENoYW5nZTogdHJ1ZQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBjb3JyZWN0UG9zaXRpb246IGZ1bmN0aW9uIGNvcnJlY3RQb3NpdGlvbigpIHsKICAgICAgdGhpcy5zd2lwaW5nID0gdHJ1ZTsKICAgICAgaWYgKHRoaXMuYWN0aXZlIDw9IC0xKSB7CiAgICAgICAgdGhpcy5tb3ZlKHsKICAgICAgICAgIHBhY2U6IHRoaXMuY291bnQKICAgICAgICB9KTsKICAgICAgfQogICAgICBpZiAodGhpcy5hY3RpdmUgPj0gdGhpcy5jb3VudCkgewogICAgICAgIHRoaXMubW92ZSh7CiAgICAgICAgICBwYWNlOiAtdGhpcy5jb3VudAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7CiAgICB9LAogICAgYXV0b1BsYXk6IGZ1bmN0aW9uIGF1dG9QbGF5KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdmFyIGF1dG9wbGF5ID0gdGhpcy5hdXRvcGxheTsKICAgICAgaWYgKGF1dG9wbGF5ID4gMCAmJiB0aGlzLmNvdW50ID4gMSkgewogICAgICAgIHRoaXMuY2xlYXIoKTsKICAgICAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczQubmV4dCgpOwogICAgICAgICAgX3RoaXM0LmF1dG9QbGF5KCk7CiAgICAgICAgfSwgYXV0b3BsYXkpOwogICAgICB9CiAgICB9LAogICAgZ2VuSW5kaWNhdG9yOiBmdW5jdGlvbiBnZW5JbmRpY2F0b3IoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB2YXIgaCA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQ7CiAgICAgIHZhciBjb3VudCA9IHRoaXMuY291bnQsCiAgICAgICAgYWN0aXZlSW5kaWNhdG9yID0gdGhpcy5hY3RpdmVJbmRpY2F0b3I7CiAgICAgIHZhciBzbG90ID0gdGhpcy5zbG90cygnaW5kaWNhdG9yJyk7CiAgICAgIGlmIChzbG90KSB7CiAgICAgICAgcmV0dXJuIHNsb3Q7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuc2hvd0luZGljYXRvcnMgJiYgY291bnQgPiAxKSB7CiAgICAgICAgcmV0dXJuIGgoImRpdiIsIHsKICAgICAgICAgICJjbGFzcyI6IGJlbSgnaW5kaWNhdG9ycycsIHsKICAgICAgICAgICAgdmVydGljYWw6IHRoaXMudmVydGljYWwKICAgICAgICAgIH0pCiAgICAgICAgfSwgW0FycmF5LmFwcGx5KHZvaWQgMCwgQXJyYXkoY291bnQpKS5tYXAoZnVuY3Rpb24gKGVtcHR5LCBpbmRleCkgewogICAgICAgICAgcmV0dXJuIGgoImkiLCB7CiAgICAgICAgICAgICJjbGFzcyI6IGJlbSgnaW5kaWNhdG9yJywgewogICAgICAgICAgICAgIGFjdGl2ZTogaW5kZXggPT09IGFjdGl2ZUluZGljYXRvcgogICAgICAgICAgICB9KSwKICAgICAgICAgICAgInN0eWxlIjogaW5kZXggPT09IGFjdGl2ZUluZGljYXRvciA/IF90aGlzNS5pbmRpY2F0b3JTdHlsZSA6IG51bGwKICAgICAgICAgIH0pOwogICAgICAgIH0pXSk7CiAgICAgIH0KICAgIH0KICB9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgdmFyIGggPSBhcmd1bWVudHNbMF07CiAgICByZXR1cm4gaCgiZGl2IiwgewogICAgICAiY2xhc3MiOiBiZW0oKQogICAgfSwgW2goImRpdiIsIHsKICAgICAgInJlZiI6ICJ0cmFjayIsCiAgICAgICJzdHlsZSI6IHRoaXMudHJhY2tTdHlsZSwKICAgICAgImNsYXNzIjogYmVtKCd0cmFjaycsIHsKICAgICAgICB2ZXJ0aWNhbDogdGhpcy52ZXJ0aWNhbAogICAgICB9KQogICAgfSwgW3RoaXMuc2xvdHMoKV0pLCB0aGlzLmdlbkluZGljYXRvcigpXSk7CiAgfQp9KTs="},null]}