{"remainingRequest":"/Users/adamliu/works/vant/node_modules/babel-loader/lib/index.js!/Users/adamliu/works/vant/src/picker/PickerColumn.js","dependencies":[{"path":"/Users/adamliu/works/vant/src/picker/PickerColumn.js","mtime":1694509704999},{"path":"/Users/adamliu/works/vant/babel.config.js","mtime":1694509704583},{"path":"/Users/adamliu/works/vant/node_modules/cache-loader/dist/cjs.js","mtime":1694509793427},{"path":"/Users/adamliu/works/vant/node_modules/babel-loader/lib/index.js","mtime":1694509794381}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9tZXJnZUpTWFByb3BzMiBmcm9tICJAdnVlL2JhYmVsLWhlbHBlci12dWUtanN4LW1lcmdlLXByb3BzIjsKaW1wb3J0IF9tZXJnZUpTWFByb3BzIGZyb20gIkB2dWUvYmFiZWwtaGVscGVyLXZ1ZS1qc3gtbWVyZ2UtcHJvcHMiOwppbXBvcnQgeyBkZWVwQ2xvbmUgfSBmcm9tICcuLi91dGlscy9kZWVwLWNsb25lJzsKaW1wb3J0IHsgY3JlYXRlTmFtZXNwYWNlLCBpbkJyb3dzZXIsIGlzT2JqZWN0IH0gZnJvbSAnLi4vdXRpbHMnOwppbXBvcnQgeyByYW5nZSB9IGZyb20gJy4uL3V0aWxzL2Zvcm1hdC9udW1iZXInOwppbXBvcnQgeyBwcmV2ZW50RGVmYXVsdCwgb24sIG9mZiB9IGZyb20gJy4uL3V0aWxzL2RvbS9ldmVudCc7CmltcG9ydCB7IFRvdWNoTWl4aW4gfSBmcm9tICcuLi9taXhpbnMvdG91Y2gnOwp2YXIgREVGQVVMVF9EVVJBVElPTiA9IDIwMDsKCi8vIOaDr+aAp+a7keWKqOaAnei3rzoKLy8g5Zyo5omL5oyH56a75byA5bGP5bmV5pe277yM5aaC5p6c5ZKM5LiK5LiA5qyhIG1vdmUg5pe255qE6Ze06ZqU5bCP5LqOIGBNT01FTlRVTV9MSU1JVF9USU1FYCDkuJQgbW92ZQovLyDot53nprvlpKfkuo4gYE1PTUVOVFVNX0xJTUlUX0RJU1RBTkNFYCDml7bvvIzmiafooYzmg6/mgKfmu5HliqgKZXhwb3J0IHZhciBNT01FTlRVTV9MSU1JVF9USU1FID0gMzAwOwpleHBvcnQgdmFyIE1PTUVOVFVNX0xJTUlUX0RJU1RBTkNFID0gMTU7CnZhciBfY3JlYXRlTmFtZXNwYWNlID0gY3JlYXRlTmFtZXNwYWNlKCdwaWNrZXItY29sdW1uJyksCiAgY3JlYXRlQ29tcG9uZW50ID0gX2NyZWF0ZU5hbWVzcGFjZVswXSwKICBiZW0gPSBfY3JlYXRlTmFtZXNwYWNlWzFdOwpmdW5jdGlvbiBnZXRFbGVtZW50VHJhbnNsYXRlWShlbGVtZW50KSB7CiAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7CiAgdmFyIHRyYW5zZm9ybSA9IHN0eWxlLnRyYW5zZm9ybSB8fCBzdHlsZS53ZWJraXRUcmFuc2Zvcm07CiAgdmFyIHRyYW5zbGF0ZVkgPSB0cmFuc2Zvcm0uc2xpY2UoNywgdHJhbnNmb3JtLmxlbmd0aCAtIDEpLnNwbGl0KCcsICcpWzVdOwogIHJldHVybiBOdW1iZXIodHJhbnNsYXRlWSk7Cn0KZnVuY3Rpb24gaXNPcHRpb25EaXNhYmxlZChvcHRpb24pIHsKICByZXR1cm4gaXNPYmplY3Qob3B0aW9uKSAmJiBvcHRpb24uZGlzYWJsZWQ7Cn0KLy8gdXNlIHN0YW5kYXJkIFdoZWVsRXZlbnQ6Ci8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaGVlbEV2ZW50CnZhciBzdXBwb3J0TW91c2V3aGVlbCA9IGluQnJvd3NlciAmJiAnb253aGVlbCcgaW4gd2luZG93Owp2YXIgbW91c2V3aGVlbFRpbWVyID0gbnVsbDsKZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KHsKICBtaXhpbnM6IFtUb3VjaE1peGluXSwKICBwcm9wczogewogICAgdmFsdWVLZXk6IFN0cmluZywKICAgIHJlYWRvbmx5OiBCb29sZWFuLAogICAgYWxsb3dIdG1sOiBCb29sZWFuLAogICAgY2xhc3NOYW1lOiBTdHJpbmcsCiAgICBpdGVtSGVpZ2h0OiBOdW1iZXIsCiAgICBkZWZhdWx0SW5kZXg6IE51bWJlciwKICAgIHN3aXBlRHVyYXRpb246IFtOdW1iZXIsIFN0cmluZ10sCiAgICB2aXNpYmxlSXRlbUNvdW50OiBbTnVtYmVyLCBTdHJpbmddLAogICAgaW5pdGlhbE9wdGlvbnM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9mZnNldDogMCwKICAgICAgZHVyYXRpb246IDAsCiAgICAgIG9wdGlvbnM6IGRlZXBDbG9uZSh0aGlzLmluaXRpYWxPcHRpb25zKSwKICAgICAgY3VycmVudEluZGV4OiB0aGlzLmRlZmF1bHRJbmRleAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy4kcGFyZW50LmNoaWxkcmVuKSB7CiAgICAgIHRoaXMuJHBhcmVudC5jaGlsZHJlbi5wdXNoKHRoaXMpOwogICAgfQogICAgdGhpcy5zZXRJbmRleCh0aGlzLmN1cnJlbnRJbmRleCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5iaW5kVG91Y2hFdmVudCh0aGlzLiRlbCk7CiAgICBpZiAoc3VwcG9ydE1vdXNld2hlZWwpIHsKICAgICAgb24odGhpcy4kZWwsICd3aGVlbCcsIHRoaXMub25Nb3VzZVdoZWVsLCBmYWxzZSk7CiAgICB9CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuJHBhcmVudC5jaGlsZHJlbjsKICAgIGlmIChjaGlsZHJlbikgewogICAgICBjaGlsZHJlbi5zcGxpY2UoY2hpbGRyZW4uaW5kZXhPZih0aGlzKSwgMSk7CiAgICB9CiAgICBpZiAoc3VwcG9ydE1vdXNld2hlZWwpIHsKICAgICAgb2ZmKHRoaXMuJGVsLCAnd2hlZWwnKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBpbml0aWFsT3B0aW9uczogJ3NldE9wdGlvbnMnLAogICAgZGVmYXVsdEluZGV4OiBmdW5jdGlvbiBkZWZhdWx0SW5kZXgodmFsKSB7CiAgICAgIHRoaXMuc2V0SW5kZXgodmFsKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb3VudDogZnVuY3Rpb24gY291bnQoKSB7CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMubGVuZ3RoOwogICAgfSwKICAgIGJhc2VPZmZzZXQ6IGZ1bmN0aW9uIGJhc2VPZmZzZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLml0ZW1IZWlnaHQgKiAodGhpcy52aXNpYmxlSXRlbUNvdW50IC0gMSkgLyAyOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2V0T3B0aW9uczogZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRpb25zKSB7CiAgICAgIGlmIChKU09OLnN0cmluZ2lmeShvcHRpb25zKSAhPT0gSlNPTi5zdHJpbmdpZnkodGhpcy5vcHRpb25zKSkgewogICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBDbG9uZShvcHRpb25zKTsKICAgICAgICB0aGlzLnNldEluZGV4KHRoaXMuZGVmYXVsdEluZGV4KTsKICAgICAgfQogICAgfSwKICAgIG9uVG91Y2hTdGFydDogZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGV2ZW50KSB7CiAgICAgIGlmICh0aGlzLnJlYWRvbmx5KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMudG91Y2hTdGFydChldmVudCk7CiAgICAgIGlmICh0aGlzLm1vdmluZykgewogICAgICAgIHZhciB0cmFuc2xhdGVZID0gZ2V0RWxlbWVudFRyYW5zbGF0ZVkodGhpcy4kcmVmcy53cmFwcGVyKTsKICAgICAgICB0aGlzLm9mZnNldCA9IE1hdGgubWluKDAsIHRyYW5zbGF0ZVkgLSB0aGlzLmJhc2VPZmZzZXQpOwogICAgICAgIHRoaXMuc3RhcnRPZmZzZXQgPSB0aGlzLm9mZnNldDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnN0YXJ0T2Zmc2V0ID0gdGhpcy5vZmZzZXQ7CiAgICAgIH0KICAgICAgdGhpcy5kdXJhdGlvbiA9IDA7CiAgICAgIHRoaXMudHJhbnNpdGlvbkVuZFRyaWdnZXIgPSBudWxsOwogICAgICB0aGlzLnRvdWNoU3RhcnRUaW1lID0gRGF0ZS5ub3coKTsKICAgICAgdGhpcy5tb21lbnR1bU9mZnNldCA9IHRoaXMuc3RhcnRPZmZzZXQ7CiAgICB9LAogICAgb25Ub3VjaE1vdmU6IGZ1bmN0aW9uIG9uVG91Y2hNb3ZlKGV2ZW50KSB7CiAgICAgIGlmICh0aGlzLnJlYWRvbmx5KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMudG91Y2hNb3ZlKGV2ZW50KTsKICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAndmVydGljYWwnKSB7CiAgICAgICAgdGhpcy5tb3ZpbmcgPSB0cnVlOwogICAgICAgIHByZXZlbnREZWZhdWx0KGV2ZW50LCB0cnVlKTsKICAgICAgfQogICAgICB0aGlzLm9mZnNldCA9IHJhbmdlKHRoaXMuc3RhcnRPZmZzZXQgKyB0aGlzLmRlbHRhWSwgLSh0aGlzLmNvdW50ICogdGhpcy5pdGVtSGVpZ2h0KSwgdGhpcy5pdGVtSGVpZ2h0KTsKICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7CiAgICAgIGlmIChub3cgLSB0aGlzLnRvdWNoU3RhcnRUaW1lID4gTU9NRU5UVU1fTElNSVRfVElNRSkgewogICAgICAgIHRoaXMudG91Y2hTdGFydFRpbWUgPSBub3c7CiAgICAgICAgdGhpcy5tb21lbnR1bU9mZnNldCA9IHRoaXMub2Zmc2V0OwogICAgICB9CiAgICB9LAogICAgb25Ub3VjaEVuZDogZnVuY3Rpb24gb25Ub3VjaEVuZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgaWYgKHRoaXMucmVhZG9ubHkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGRpc3RhbmNlID0gdGhpcy5vZmZzZXQgLSB0aGlzLm1vbWVudHVtT2Zmc2V0OwogICAgICB2YXIgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gdGhpcy50b3VjaFN0YXJ0VGltZTsKICAgICAgdmFyIGFsbG93TW9tZW50dW0gPSBkdXJhdGlvbiA8IE1PTUVOVFVNX0xJTUlUX1RJTUUgJiYgTWF0aC5hYnMoZGlzdGFuY2UpID4gTU9NRU5UVU1fTElNSVRfRElTVEFOQ0U7CiAgICAgIGlmIChhbGxvd01vbWVudHVtKSB7CiAgICAgICAgdGhpcy5tb21lbnR1bShkaXN0YW5jZSwgZHVyYXRpb24pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgaW5kZXggPSB0aGlzLmdldEluZGV4QnlPZmZzZXQodGhpcy5vZmZzZXQpOwogICAgICB0aGlzLmR1cmF0aW9uID0gREVGQVVMVF9EVVJBVElPTjsKICAgICAgdGhpcy5zZXRJbmRleChpbmRleCwgdHJ1ZSk7CgogICAgICAvLyBjb21wYXRpYmxlIHdpdGggZGVza3RvcCBzY2VuYXJpbwogICAgICAvLyB1c2Ugc2V0VGltZW91dCB0byBza2lwIHRoZSBjbGljayBldmVudCBFbWl0dGVkIGFmdGVyIHRvdWNoc3RhcnQKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMubW92aW5nID0gZmFsc2U7CiAgICAgIH0sIDApOwogICAgfSwKICAgIG9uTW91c2VXaGVlbDogZnVuY3Rpb24gb25Nb3VzZVdoZWVsKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICBpZiAodGhpcy5yZWFkb25seSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBwcmV2ZW50RGVmYXVsdChldmVudCwgdHJ1ZSk7CiAgICAgIC8vIHNpbXBseSBjb21iaW5lIHRvdWNoc3RhcnQgYW5kIHRvdWNobW92ZQogICAgICB2YXIgdHJhbnNsYXRlWSA9IGdldEVsZW1lbnRUcmFuc2xhdGVZKHRoaXMuJHJlZnMud3JhcHBlcik7CiAgICAgIHRoaXMuc3RhcnRPZmZzZXQgPSBNYXRoLm1pbigwLCB0cmFuc2xhdGVZIC0gdGhpcy5iYXNlT2Zmc2V0KTsKICAgICAgdGhpcy5tb21lbnR1bU9mZnNldCA9IHRoaXMuc3RhcnRPZmZzZXQ7CiAgICAgIHRoaXMudHJhbnNpdGlvbkVuZFRyaWdnZXIgPSBudWxsOwoKICAgICAgLy8gZGlyZWN0bHkgdXNlIGRlbHRhWSwgc2VlIGh0dHBzOi8vY2FuaXVzZS5jb20vP3NlYXJjaD1kZWx0YVkKICAgICAgLy8gdXNlIGRlbHRhWSB0byBkZXRlY3QgZGlyZWN0aW9uIGZvciBub3Qgc3BlY2lhbCBzZXR0aW5nIGRldmljZQogICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudC93aGVlbF9ldmVudAogICAgICB2YXIgZGVsdGFZID0gZXZlbnQuZGVsdGFZOwogICAgICBpZiAodGhpcy5zdGFydE9mZnNldCA9PT0gMCAmJiBkZWx0YVkgPCAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICAvLyBnZXQgb2Zmc2V0CiAgICAgIC8vIGlmIG5lY2Vzc2FyeSwgY2FuIGFkanVzdCBkaXN0YW5jZSB2YWx1ZSB0byBtYWtlIHNjcm9sbGluZyBzbW9vdGhlcgogICAgICB2YXIgZGlzdGFuY2UgPSAtZGVsdGFZOwogICAgICB0aGlzLm9mZnNldCA9IHJhbmdlKHRoaXMuc3RhcnRPZmZzZXQgKyBkaXN0YW5jZSwgLSh0aGlzLmNvdW50ICogdGhpcy5pdGVtSGVpZ2h0KSwgdGhpcy5pdGVtSGVpZ2h0KTsKICAgICAgaWYgKG1vdXNld2hlZWxUaW1lcikgewogICAgICAgIGNsZWFyVGltZW91dChtb3VzZXdoZWVsVGltZXIpOwogICAgICB9CiAgICAgIG1vdXNld2hlZWxUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5vblRvdWNoRW5kKCk7CiAgICAgICAgX3RoaXMyLnRvdWNoU3RhcnRUaW1lID0gMDsKICAgICAgfSwgTU9NRU5UVU1fTElNSVRfVElNRSk7CiAgICB9LAogICAgb25UcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiBvblRyYW5zaXRpb25FbmQoKSB7CiAgICAgIHRoaXMuc3RvcE1vbWVudHVtKCk7CiAgICB9LAogICAgb25DbGlja0l0ZW06IGZ1bmN0aW9uIG9uQ2xpY2tJdGVtKGluZGV4KSB7CiAgICAgIGlmICh0aGlzLm1vdmluZyB8fCB0aGlzLnJlYWRvbmx5KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMudHJhbnNpdGlvbkVuZFRyaWdnZXIgPSBudWxsOwogICAgICB0aGlzLmR1cmF0aW9uID0gREVGQVVMVF9EVVJBVElPTjsKICAgICAgdGhpcy5zZXRJbmRleChpbmRleCwgdHJ1ZSk7CiAgICB9LAogICAgYWRqdXN0SW5kZXg6IGZ1bmN0aW9uIGFkanVzdEluZGV4KGluZGV4KSB7CiAgICAgIGluZGV4ID0gcmFuZ2UoaW5kZXgsIDAsIHRoaXMuY291bnQpOwogICAgICBmb3IgKHZhciBpID0gaW5kZXg7IGkgPCB0aGlzLmNvdW50OyBpKyspIHsKICAgICAgICBpZiAoIWlzT3B0aW9uRGlzYWJsZWQodGhpcy5vcHRpb25zW2ldKSkgcmV0dXJuIGk7CiAgICAgIH0KICAgICAgZm9yICh2YXIgX2kgPSBpbmRleCAtIDE7IF9pID49IDA7IF9pLS0pIHsKICAgICAgICBpZiAoIWlzT3B0aW9uRGlzYWJsZWQodGhpcy5vcHRpb25zW19pXSkpIHJldHVybiBfaTsKICAgICAgfQogICAgfSwKICAgIGdldE9wdGlvblRleHQ6IGZ1bmN0aW9uIGdldE9wdGlvblRleHQob3B0aW9uKSB7CiAgICAgIGlmIChpc09iamVjdChvcHRpb24pICYmIHRoaXMudmFsdWVLZXkgaW4gb3B0aW9uKSB7CiAgICAgICAgcmV0dXJuIG9wdGlvblt0aGlzLnZhbHVlS2V5XTsKICAgICAgfQogICAgICByZXR1cm4gb3B0aW9uOwogICAgfSwKICAgIHNldEluZGV4OiBmdW5jdGlvbiBzZXRJbmRleChpbmRleCwgZW1pdENoYW5nZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgaW5kZXggPSB0aGlzLmFkanVzdEluZGV4KGluZGV4KSB8fCAwOwogICAgICB2YXIgb2Zmc2V0ID0gLWluZGV4ICogdGhpcy5pdGVtSGVpZ2h0OwogICAgICB2YXIgdHJpZ2dlciA9IGZ1bmN0aW9uIHRyaWdnZXIoKSB7CiAgICAgICAgaWYgKGluZGV4ICE9PSBfdGhpczMuY3VycmVudEluZGV4KSB7CiAgICAgICAgICBfdGhpczMuY3VycmVudEluZGV4ID0gaW5kZXg7CiAgICAgICAgICBpZiAoZW1pdENoYW5nZSkgewogICAgICAgICAgICBfdGhpczMuJGVtaXQoJ2NoYW5nZScsIGluZGV4KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CgogICAgICAvLyB0cmlnZ2VyIHRoZSBjaGFuZ2UgZXZlbnQgYWZ0ZXIgdHJhbnNpdGlvbmVuZCB3aGVuIG1vdmluZwogICAgICBpZiAodGhpcy5tb3ZpbmcgJiYgb2Zmc2V0ICE9PSB0aGlzLm9mZnNldCkgewogICAgICAgIHRoaXMudHJhbnNpdGlvbkVuZFRyaWdnZXIgPSB0cmlnZ2VyOwogICAgICB9IGVsc2UgewogICAgICAgIHRyaWdnZXIoKTsKICAgICAgfQogICAgICB0aGlzLm9mZnNldCA9IG9mZnNldDsKICAgIH0sCiAgICBzZXRWYWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHsKICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLmdldE9wdGlvblRleHQob3B0aW9uc1tpXSkgPT09IHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5zZXRJbmRleChpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBnZXRWYWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNbdGhpcy5jdXJyZW50SW5kZXhdOwogICAgfSwKICAgIGdldEluZGV4QnlPZmZzZXQ6IGZ1bmN0aW9uIGdldEluZGV4QnlPZmZzZXQob2Zmc2V0KSB7CiAgICAgIHJldHVybiByYW5nZShNYXRoLnJvdW5kKC1vZmZzZXQgLyB0aGlzLml0ZW1IZWlnaHQpLCAwLCB0aGlzLmNvdW50IC0gMSk7CiAgICB9LAogICAgbW9tZW50dW06IGZ1bmN0aW9uIG1vbWVudHVtKGRpc3RhbmNlLCBkdXJhdGlvbikgewogICAgICB2YXIgc3BlZWQgPSBNYXRoLmFicyhkaXN0YW5jZSAvIGR1cmF0aW9uKTsKICAgICAgZGlzdGFuY2UgPSB0aGlzLm9mZnNldCArIHNwZWVkIC8gMC4wMDMgKiAoZGlzdGFuY2UgPCAwID8gLTEgOiAxKTsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5nZXRJbmRleEJ5T2Zmc2V0KGRpc3RhbmNlKTsKICAgICAgdGhpcy5kdXJhdGlvbiA9ICt0aGlzLnN3aXBlRHVyYXRpb247CiAgICAgIHRoaXMuc2V0SW5kZXgoaW5kZXgsIHRydWUpOwogICAgfSwKICAgIHN0b3BNb21lbnR1bTogZnVuY3Rpb24gc3RvcE1vbWVudHVtKCkgewogICAgICB0aGlzLm1vdmluZyA9IGZhbHNlOwogICAgICB0aGlzLmR1cmF0aW9uID0gMDsKICAgICAgaWYgKHRoaXMudHJhbnNpdGlvbkVuZFRyaWdnZXIpIHsKICAgICAgICB0aGlzLnRyYW5zaXRpb25FbmRUcmlnZ2VyKCk7CiAgICAgICAgdGhpcy50cmFuc2l0aW9uRW5kVHJpZ2dlciA9IG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBnZW5PcHRpb25zOiBmdW5jdGlvbiBnZW5PcHRpb25zKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdmFyIGggPSB0aGlzLiRjcmVhdGVFbGVtZW50OwogICAgICB2YXIgb3B0aW9uU3R5bGUgPSB7CiAgICAgICAgaGVpZ2h0OiB0aGlzLml0ZW1IZWlnaHQgKyAicHgiCiAgICAgIH07CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24sIGluZGV4KSB7CiAgICAgICAgdmFyIF9kb21Qcm9wczsKICAgICAgICB2YXIgdGV4dCA9IF90aGlzNC5nZXRPcHRpb25UZXh0KG9wdGlvbik7CiAgICAgICAgdmFyIGRpc2FibGVkID0gaXNPcHRpb25EaXNhYmxlZChvcHRpb24pOwogICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgc3R5bGU6IG9wdGlvblN0eWxlLAogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgcm9sZTogJ2J1dHRvbicsCiAgICAgICAgICAgIHRhYmluZGV4OiBkaXNhYmxlZCA/IC0xIDogMAogICAgICAgICAgfSwKICAgICAgICAgIGNsYXNzOiBbYmVtKCdpdGVtJywgewogICAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsCiAgICAgICAgICAgIHNlbGVjdGVkOiBpbmRleCA9PT0gX3RoaXM0LmN1cnJlbnRJbmRleAogICAgICAgICAgfSldLAogICAgICAgICAgb246IHsKICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICAgIF90aGlzNC5vbkNsaWNrSXRlbShpbmRleCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHZhciBjaGlsZERhdGEgPSB7CiAgICAgICAgICBjbGFzczogJ3Zhbi1lbGxpcHNpcycsCiAgICAgICAgICBkb21Qcm9wczogKF9kb21Qcm9wcyA9IHt9LCBfZG9tUHJvcHNbX3RoaXM0LmFsbG93SHRtbCA/ICdpbm5lckhUTUwnIDogJ3RleHRDb250ZW50J10gPSB0ZXh0LCBfZG9tUHJvcHMpCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gaCgibGkiLCBfbWVyZ2VKU1hQcm9wczIoW3t9LCBkYXRhXSksIFtfdGhpczQuc2xvdHMoJ29wdGlvbicsIG9wdGlvbikgfHwgaCgiZGl2IiwgX21lcmdlSlNYUHJvcHMoW3t9LCBjaGlsZERhdGFdKSldKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgIHZhciBoID0gYXJndW1lbnRzWzBdOwogICAgdmFyIHdyYXBwZXJTdHlsZSA9IHsKICAgICAgdHJhbnNmb3JtOiAidHJhbnNsYXRlM2QoMCwgIiArICh0aGlzLm9mZnNldCArIHRoaXMuYmFzZU9mZnNldCkgKyAicHgsIDApIiwKICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uICsgIm1zIiwKICAgICAgdHJhbnNpdGlvblByb3BlcnR5OiB0aGlzLmR1cmF0aW9uID8gJ2FsbCcgOiAnbm9uZScKICAgIH07CiAgICByZXR1cm4gaCgiZGl2IiwgewogICAgICAiY2xhc3MiOiBbYmVtKCksIHRoaXMuY2xhc3NOYW1lXQogICAgfSwgW2goInVsIiwgewogICAgICAicmVmIjogIndyYXBwZXIiLAogICAgICAic3R5bGUiOiB3cmFwcGVyU3R5bGUsCiAgICAgICJjbGFzcyI6IGJlbSgnd3JhcHBlcicpLAogICAgICAib24iOiB7CiAgICAgICAgInRyYW5zaXRpb25lbmQiOiB0aGlzLm9uVHJhbnNpdGlvbkVuZAogICAgICB9CiAgICB9LCBbdGhpcy5nZW5PcHRpb25zKCldKV0pOwogIH0KfSk7"},null]}