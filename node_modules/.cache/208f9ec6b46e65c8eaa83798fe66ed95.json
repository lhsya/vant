{"remainingRequest":"/Users/adamliu/works/vant/node_modules/babel-loader/lib/index.js!/Users/adamliu/works/vant/src/calendar/index.js","dependencies":[{"path":"/Users/adamliu/works/vant/src/calendar/index.js","mtime":1694509704876},{"path":"/Users/adamliu/works/vant/babel.config.js","mtime":1694509704583},{"path":"/Users/adamliu/works/vant/node_modules/cache-loader/dist/cjs.js","mtime":1694509793427},{"path":"/Users/adamliu/works/vant/node_modules/babel-loader/lib/index.js","mtime":1694509794381}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gVXRpbHMKaW1wb3J0IHsgcmFmIH0gZnJvbSAnLi4vdXRpbHMvZG9tL3JhZic7CmltcG9ydCB7IGlzRGF0ZSB9IGZyb20gJy4uL3V0aWxzL3ZhbGlkYXRlL2RhdGUnOwppbXBvcnQgeyBnZXRTY3JvbGxUb3AgfSBmcm9tICcuLi91dGlscy9kb20vc2Nyb2xsJzsKaW1wb3J0IHsgdCwgYmVtLCBjb3B5RGF0ZSwgY29weURhdGVzLCBnZXROZXh0RGF5LCBjb21wYXJlRGF5LCBjYWxjRGF0ZU51bSwgY29tcGFyZU1vbnRoLCBjcmVhdGVDb21wb25lbnQsIGdldERheUJ5T2Zmc2V0IH0gZnJvbSAnLi91dGlscyc7CgovLyBDb21wb25lbnRzCmltcG9ydCBQb3B1cCBmcm9tICcuLi9wb3B1cCc7CmltcG9ydCBCdXR0b24gZnJvbSAnLi4vYnV0dG9uJzsKaW1wb3J0IFRvYXN0IGZyb20gJy4uL3RvYXN0JzsKaW1wb3J0IE1vbnRoIGZyb20gJy4vY29tcG9uZW50cy9Nb250aCc7CmltcG9ydCBIZWFkZXIgZnJvbSAnLi9jb21wb25lbnRzL0hlYWRlcic7CmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCh7CiAgcHJvcHM6IHsKICAgIHRpdGxlOiBTdHJpbmcsCiAgICBjb2xvcjogU3RyaW5nLAogICAgdmFsdWU6IEJvb2xlYW4sCiAgICByZWFkb25seTogQm9vbGVhbiwKICAgIGZvcm1hdHRlcjogRnVuY3Rpb24sCiAgICByb3dIZWlnaHQ6IFtOdW1iZXIsIFN0cmluZ10sCiAgICBjb25maXJtVGV4dDogU3RyaW5nLAogICAgcmFuZ2VQcm9tcHQ6IFN0cmluZywKICAgIGRlZmF1bHREYXRlOiBbRGF0ZSwgQXJyYXldLAogICAgZ2V0Q29udGFpbmVyOiBbU3RyaW5nLCBGdW5jdGlvbl0sCiAgICBhbGxvd1NhbWVEYXk6IEJvb2xlYW4sCiAgICBjb25maXJtRGlzYWJsZWRUZXh0OiBTdHJpbmcsCiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3NpbmdsZScKICAgIH0sCiAgICByb3VuZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgcG9zaXRpb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnYm90dG9tJwogICAgfSwKICAgIHBvcHBhYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBtYXhSYW5nZTogewogICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgbGF6eVJlbmRlcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgc2hvd01hcms6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIHNob3dUaXRsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgc2hvd0NvbmZpcm06IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIHNob3dTdWJ0aXRsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgY2xvc2VPblBvcHN0YXRlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBjbG9zZU9uQ2xpY2tPdmVybGF5OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBzYWZlQXJlYUluc2V0Qm90dG9tOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBtaW5EYXRlOiB7CiAgICAgIHR5cGU6IERhdGUsCiAgICAgIHZhbGlkYXRvcjogaXNEYXRlLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gbmV3IERhdGUoKTsKICAgICAgfQogICAgfSwKICAgIG1heERhdGU6IHsKICAgICAgdHlwZTogRGF0ZSwKICAgICAgdmFsaWRhdG9yOiBpc0RhdGUsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpOwogICAgICAgIHJldHVybiBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCkgKyA2LCBub3cuZ2V0RGF0ZSgpKTsKICAgICAgfQogICAgfSwKICAgIGZpcnN0RGF5T2ZXZWVrOiB7CiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sCiAgICAgIGRlZmF1bHQ6IDAsCiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkgewogICAgICAgIHJldHVybiB2YWwgPj0gMCAmJiB2YWwgPD0gNjsKICAgICAgfQogICAgfQogIH0sCiAgaW5qZWN0OiB7CiAgICB2YW5Qb3B1cDogewogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3VidGl0bGU6ICcnLAogICAgICBjdXJyZW50RGF0ZTogdGhpcy5nZXRJbml0aWFsRGF0ZSgpCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG1vbnRoczogZnVuY3Rpb24gbW9udGhzKCkgewogICAgICB2YXIgbW9udGhzID0gW107CiAgICAgIHZhciBjdXJzb3IgPSBuZXcgRGF0ZSh0aGlzLm1pbkRhdGUpOwogICAgICBjdXJzb3Iuc2V0RGF0ZSgxKTsKICAgICAgZG8gewogICAgICAgIG1vbnRocy5wdXNoKG5ldyBEYXRlKGN1cnNvcikpOwogICAgICAgIGN1cnNvci5zZXRNb250aChjdXJzb3IuZ2V0TW9udGgoKSArIDEpOwogICAgICB9IHdoaWxlIChjb21wYXJlTW9udGgoY3Vyc29yLCB0aGlzLm1heERhdGUpICE9PSAxKTsKICAgICAgcmV0dXJuIG1vbnRoczsKICAgIH0sCiAgICBidXR0b25EaXNhYmxlZDogZnVuY3Rpb24gYnV0dG9uRGlzYWJsZWQoKSB7CiAgICAgIHZhciB0eXBlID0gdGhpcy50eXBlLAogICAgICAgIGN1cnJlbnREYXRlID0gdGhpcy5jdXJyZW50RGF0ZTsKICAgICAgaWYgKGN1cnJlbnREYXRlKSB7CiAgICAgICAgaWYgKHR5cGUgPT09ICdyYW5nZScpIHsKICAgICAgICAgIHJldHVybiAhY3VycmVudERhdGVbMF0gfHwgIWN1cnJlbnREYXRlWzFdOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gJ211bHRpcGxlJykgewogICAgICAgICAgcmV0dXJuICFjdXJyZW50RGF0ZS5sZW5ndGg7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiAhY3VycmVudERhdGU7CiAgICB9LAogICAgZGF5T2Zmc2V0OiBmdW5jdGlvbiBkYXlPZmZzZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLmZpcnN0RGF5T2ZXZWVrID8gdGhpcy5maXJzdERheU9mV2VlayAlIDcgOiAwOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHZhbHVlOiAnaW5pdCcsCiAgICB0eXBlOiBmdW5jdGlvbiB0eXBlKCkgewogICAgICB0aGlzLnJlc2V0KCk7CiAgICB9LAogICAgZGVmYXVsdERhdGU6IGZ1bmN0aW9uIGRlZmF1bHREYXRlKHZhbCkgewogICAgICB0aGlzLmN1cnJlbnREYXRlID0gdmFsOwogICAgICB0aGlzLnNjcm9sbEludG9WaWV3KCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdmFudC11aS92YW50L2lzc3Vlcy85ODQ1CiAgICBpZiAoIXRoaXMucG9wcGFibGUpIHsKICAgICAgdmFyIF90aGlzJHZhblBvcHVwOwogICAgICAoX3RoaXMkdmFuUG9wdXAgPSB0aGlzLnZhblBvcHVwKSA9PSBudWxsIHx8IF90aGlzJHZhblBvcHVwLiRvbignb3BlbmVkJywgdGhpcy5vblNjcm9sbCk7CiAgICB9CiAgfSwKICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL2FjdGl2YXRlZDogZnVuY3Rpb24gYWN0aXZhdGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBAZXhwb3NlZC1hcGkKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldChkYXRlKSB7CiAgICAgIGlmIChkYXRlID09PSB2b2lkIDApIHsKICAgICAgICBkYXRlID0gdGhpcy5nZXRJbml0aWFsRGF0ZSgpOwogICAgICB9CiAgICAgIHRoaXMuY3VycmVudERhdGUgPSBkYXRlOwogICAgICB0aGlzLnNjcm9sbEludG9WaWV3KCk7CiAgICB9LAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgaWYgKHRoaXMucG9wcGFibGUgJiYgIXRoaXMudmFsdWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIC8vIGFkZCBNYXRoLmZsb29yIHRvIGF2b2lkIGRlY2ltYWwgaGVpZ2h0IGlzc3VlcwogICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92YW50LXVpL3ZhbnQvaXNzdWVzLzU2NDAKICAgICAgICBfdGhpcy5ib2R5SGVpZ2h0ID0gTWF0aC5mbG9vcihfdGhpcy4kcmVmcy5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCk7CiAgICAgICAgX3RoaXMub25TY3JvbGwoKTsKICAgICAgICBfdGhpcy5zY3JvbGxJbnRvVmlldygpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyBAZXhwb3NlZC1hcGkKICAgIHNjcm9sbFRvRGF0ZTogZnVuY3Rpb24gc2Nyb2xsVG9EYXRlKHRhcmdldERhdGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHJhZihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGRpc3BsYXllZCA9IF90aGlzMi52YWx1ZSB8fCAhX3RoaXMyLnBvcHBhYmxlOwoKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgICBpZiAoIXRhcmdldERhdGUgfHwgIWRpc3BsYXllZCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBfdGhpczIubW9udGhzLnNvbWUoZnVuY3Rpb24gKG1vbnRoLCBpbmRleCkgewogICAgICAgICAgaWYgKGNvbXBhcmVNb250aChtb250aCwgdGFyZ2V0RGF0ZSkgPT09IDApIHsKICAgICAgICAgICAgdmFyIF90aGlzMiQkcmVmcyA9IF90aGlzMi4kcmVmcywKICAgICAgICAgICAgICBib2R5ID0gX3RoaXMyJCRyZWZzLmJvZHksCiAgICAgICAgICAgICAgbW9udGhzID0gX3RoaXMyJCRyZWZzLm1vbnRoczsKICAgICAgICAgICAgbW9udGhzW2luZGV4XS5zY3JvbGxJbnRvVmlldyhib2R5KTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMyLm9uU2Nyb2xsKCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIHNjcm9sbCB0byBjdXJyZW50IG1vbnRoCiAgICBzY3JvbGxJbnRvVmlldzogZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXcoKSB7CiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IHRoaXMuY3VycmVudERhdGU7CiAgICAgIGlmIChjdXJyZW50RGF0ZSkgewogICAgICAgIHZhciB0YXJnZXREYXRlID0gdGhpcy50eXBlID09PSAnc2luZ2xlJyA/IGN1cnJlbnREYXRlIDogY3VycmVudERhdGVbMF07CiAgICAgICAgdGhpcy5zY3JvbGxUb0RhdGUodGFyZ2V0RGF0ZSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRJbml0aWFsRGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbERhdGUoKSB7CiAgICAgIHZhciB0eXBlID0gdGhpcy50eXBlLAogICAgICAgIG1pbkRhdGUgPSB0aGlzLm1pbkRhdGUsCiAgICAgICAgbWF4RGF0ZSA9IHRoaXMubWF4RGF0ZSwKICAgICAgICBkZWZhdWx0RGF0ZSA9IHRoaXMuZGVmYXVsdERhdGU7CiAgICAgIGlmIChkZWZhdWx0RGF0ZSA9PT0gbnVsbCkgewogICAgICAgIHJldHVybiBkZWZhdWx0RGF0ZTsKICAgICAgfQogICAgICB2YXIgZGVmYXVsdFZhbCA9IG5ldyBEYXRlKCk7CiAgICAgIGlmIChjb21wYXJlRGF5KGRlZmF1bHRWYWwsIG1pbkRhdGUpID09PSAtMSkgewogICAgICAgIGRlZmF1bHRWYWwgPSBtaW5EYXRlOwogICAgICB9IGVsc2UgaWYgKGNvbXBhcmVEYXkoZGVmYXVsdFZhbCwgbWF4RGF0ZSkgPT09IDEpIHsKICAgICAgICBkZWZhdWx0VmFsID0gbWF4RGF0ZTsKICAgICAgfQogICAgICBpZiAodHlwZSA9PT0gJ3JhbmdlJykgewogICAgICAgIHZhciBfcmVmID0gZGVmYXVsdERhdGUgfHwgW10sCiAgICAgICAgICBzdGFydERheSA9IF9yZWZbMF0sCiAgICAgICAgICBlbmREYXkgPSBfcmVmWzFdOwogICAgICAgIHJldHVybiBbc3RhcnREYXkgfHwgZGVmYXVsdFZhbCwgZW5kRGF5IHx8IGdldE5leHREYXkoZGVmYXVsdFZhbCldOwogICAgICB9CiAgICAgIGlmICh0eXBlID09PSAnbXVsdGlwbGUnKSB7CiAgICAgICAgcmV0dXJuIGRlZmF1bHREYXRlIHx8IFtkZWZhdWx0VmFsXTsKICAgICAgfQogICAgICByZXR1cm4gZGVmYXVsdERhdGUgfHwgZGVmYXVsdFZhbDsKICAgIH0sCiAgICAvLyBjYWxjdWxhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBlbGVtZW50cwogICAgLy8gYW5kIGZpbmQgdGhlIGVsZW1lbnRzIHRoYXQgbmVlZHMgdG8gYmUgcmVuZGVyZWQKICAgIG9uU2Nyb2xsOiBmdW5jdGlvbiBvblNjcm9sbCgpIHsKICAgICAgdmFyIF90aGlzJCRyZWZzID0gdGhpcy4kcmVmcywKICAgICAgICBib2R5ID0gX3RoaXMkJHJlZnMuYm9keSwKICAgICAgICBtb250aHMgPSBfdGhpcyQkcmVmcy5tb250aHM7CiAgICAgIHZhciB0b3AgPSBnZXRTY3JvbGxUb3AoYm9keSk7CiAgICAgIHZhciBib3R0b20gPSB0b3AgKyB0aGlzLmJvZHlIZWlnaHQ7CiAgICAgIHZhciBoZWlnaHRzID0gbW9udGhzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmdldEhlaWdodCgpOwogICAgICB9KTsKICAgICAgdmFyIGhlaWdodFN1bSA9IGhlaWdodHMucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGEgKyBiOwogICAgICB9LCAwKTsKCiAgICAgIC8vIGlPUyBzY3JvbGwgYm91bmNlIG1heSBleGNlZWQgdGhlIHJhbmdlCiAgICAgIGlmIChib3R0b20gPiBoZWlnaHRTdW0gJiYgdG9wID4gMCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgaGVpZ2h0ID0gMDsKICAgICAgdmFyIGN1cnJlbnRNb250aDsKICAgICAgdmFyIHZpc2libGVSYW5nZSA9IFstMSwgLTFdOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vbnRocy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciB2aXNpYmxlID0gaGVpZ2h0IDw9IGJvdHRvbSAmJiBoZWlnaHQgKyBoZWlnaHRzW2ldID49IHRvcDsKICAgICAgICBpZiAodmlzaWJsZSkgewogICAgICAgICAgdmlzaWJsZVJhbmdlWzFdID0gaTsKICAgICAgICAgIGlmICghY3VycmVudE1vbnRoKSB7CiAgICAgICAgICAgIGN1cnJlbnRNb250aCA9IG1vbnRoc1tpXTsKICAgICAgICAgICAgdmlzaWJsZVJhbmdlWzBdID0gaTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghbW9udGhzW2ldLnNob3dlZCkgewogICAgICAgICAgICBtb250aHNbaV0uc2hvd2VkID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnbW9udGgtc2hvdycsIHsKICAgICAgICAgICAgICBkYXRlOiBtb250aHNbaV0uZGF0ZSwKICAgICAgICAgICAgICB0aXRsZTogbW9udGhzW2ldLnRpdGxlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBoZWlnaHQgKz0gaGVpZ2h0c1tpXTsKICAgICAgfQogICAgICBtb250aHMuZm9yRWFjaChmdW5jdGlvbiAobW9udGgsIGluZGV4KSB7CiAgICAgICAgbW9udGgudmlzaWJsZSA9IGluZGV4ID49IHZpc2libGVSYW5nZVswXSAtIDEgJiYgaW5kZXggPD0gdmlzaWJsZVJhbmdlWzFdICsgMTsKICAgICAgfSk7CgogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLwogICAgICBpZiAoY3VycmVudE1vbnRoKSB7CiAgICAgICAgdGhpcy5zdWJ0aXRsZSA9IGN1cnJlbnRNb250aC50aXRsZTsKICAgICAgfQogICAgfSwKICAgIG9uQ2xpY2tEYXk6IGZ1bmN0aW9uIG9uQ2xpY2tEYXkoaXRlbSkgewogICAgICBpZiAodGhpcy5yZWFkb25seSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgZGF0ZSA9IGl0ZW0uZGF0ZTsKICAgICAgdmFyIHR5cGUgPSB0aGlzLnR5cGUsCiAgICAgICAgY3VycmVudERhdGUgPSB0aGlzLmN1cnJlbnREYXRlOwogICAgICBpZiAodHlwZSA9PT0gJ3JhbmdlJykgewogICAgICAgIGlmICghY3VycmVudERhdGUpIHsKICAgICAgICAgIHRoaXMuc2VsZWN0KFtkYXRlLCBudWxsXSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHZhciBzdGFydERheSA9IGN1cnJlbnREYXRlWzBdLAogICAgICAgICAgZW5kRGF5ID0gY3VycmVudERhdGVbMV07CiAgICAgICAgaWYgKHN0YXJ0RGF5ICYmICFlbmREYXkpIHsKICAgICAgICAgIHZhciBjb21wYXJlVG9TdGFydCA9IGNvbXBhcmVEYXkoZGF0ZSwgc3RhcnREYXkpOwogICAgICAgICAgaWYgKGNvbXBhcmVUb1N0YXJ0ID09PSAxKSB7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0KFtzdGFydERheSwgZGF0ZV0sIHRydWUpOwogICAgICAgICAgfSBlbHNlIGlmIChjb21wYXJlVG9TdGFydCA9PT0gLTEpIHsKICAgICAgICAgICAgdGhpcy5zZWxlY3QoW2RhdGUsIG51bGxdKTsKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hbGxvd1NhbWVEYXkpIHsKICAgICAgICAgICAgdGhpcy5zZWxlY3QoW2RhdGUsIGRhdGVdLCB0cnVlKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zZWxlY3QoW2RhdGUsIG51bGxdKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ211bHRpcGxlJykgewogICAgICAgIGlmICghY3VycmVudERhdGUpIHsKICAgICAgICAgIHRoaXMuc2VsZWN0KFtkYXRlXSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHZhciBzZWxlY3RlZEluZGV4OwogICAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMuY3VycmVudERhdGUuc29tZShmdW5jdGlvbiAoZGF0ZUl0ZW0sIGluZGV4KSB7CiAgICAgICAgICB2YXIgZXF1YWwgPSBjb21wYXJlRGF5KGRhdGVJdGVtLCBkYXRlKSA9PT0gMDsKICAgICAgICAgIGlmIChlcXVhbCkgewogICAgICAgICAgICBzZWxlY3RlZEluZGV4ID0gaW5kZXg7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gZXF1YWw7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKHNlbGVjdGVkKSB7CiAgICAgICAgICB2YXIgX2N1cnJlbnREYXRlJHNwbGljZSA9IGN1cnJlbnREYXRlLnNwbGljZShzZWxlY3RlZEluZGV4LCAxKSwKICAgICAgICAgICAgdW5zZWxlY3RlZERhdGUgPSBfY3VycmVudERhdGUkc3BsaWNlWzBdOwogICAgICAgICAgdGhpcy4kZW1pdCgndW5zZWxlY3QnLCBjb3B5RGF0ZSh1bnNlbGVjdGVkRGF0ZSkpOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5tYXhSYW5nZSAmJiBjdXJyZW50RGF0ZS5sZW5ndGggPj0gdGhpcy5tYXhSYW5nZSkgewogICAgICAgICAgVG9hc3QodGhpcy5yYW5nZVByb21wdCB8fCB0KCdyYW5nZVByb21wdCcsIHRoaXMubWF4UmFuZ2UpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zZWxlY3QoW10uY29uY2F0KGN1cnJlbnREYXRlLCBbZGF0ZV0pKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWxlY3QoZGF0ZSwgdHJ1ZSk7CiAgICAgIH0KICAgIH0sCiAgICB0b2dnbGVQb3B1cDogZnVuY3Rpb24gdG9nZ2xlUG9wdXAodmFsKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdmFsKTsKICAgIH0sCiAgICBzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdChkYXRlLCBjb21wbGV0ZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdmFyIGVtaXQgPSBmdW5jdGlvbiBlbWl0KGRhdGUpIHsKICAgICAgICBfdGhpczMuY3VycmVudERhdGUgPSBkYXRlOwogICAgICAgIF90aGlzMy4kZW1pdCgnc2VsZWN0JywgY29weURhdGVzKF90aGlzMy5jdXJyZW50RGF0ZSkpOwogICAgICB9OwogICAgICBpZiAoY29tcGxldGUgJiYgdGhpcy50eXBlID09PSAncmFuZ2UnKSB7CiAgICAgICAgdmFyIHZhbGlkID0gdGhpcy5jaGVja1JhbmdlKGRhdGUpOwogICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgIC8vIGF1dG8gc2VsZWN0ZWQgdG8gbWF4IHJhbmdlIGlmIHNob3dDb25maXJtCiAgICAgICAgICBpZiAodGhpcy5zaG93Q29uZmlybSkgewogICAgICAgICAgICBlbWl0KFtkYXRlWzBdLCBnZXREYXlCeU9mZnNldChkYXRlWzBdLCB0aGlzLm1heFJhbmdlIC0gMSldKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVtaXQoZGF0ZSk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICAgIGVtaXQoZGF0ZSk7CiAgICAgIGlmIChjb21wbGV0ZSAmJiAhdGhpcy5zaG93Q29uZmlybSkgewogICAgICAgIHRoaXMub25Db25maXJtKCk7CiAgICAgIH0KICAgIH0sCiAgICBjaGVja1JhbmdlOiBmdW5jdGlvbiBjaGVja1JhbmdlKGRhdGUpIHsKICAgICAgdmFyIG1heFJhbmdlID0gdGhpcy5tYXhSYW5nZSwKICAgICAgICByYW5nZVByb21wdCA9IHRoaXMucmFuZ2VQcm9tcHQ7CiAgICAgIGlmIChtYXhSYW5nZSAmJiBjYWxjRGF0ZU51bShkYXRlKSA+IG1heFJhbmdlKSB7CiAgICAgICAgVG9hc3QocmFuZ2VQcm9tcHQgfHwgdCgncmFuZ2VQcm9tcHQnLCBtYXhSYW5nZSkpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBvbkNvbmZpcm06IGZ1bmN0aW9uIG9uQ29uZmlybSgpIHsKICAgICAgdGhpcy4kZW1pdCgnY29uZmlybScsIGNvcHlEYXRlcyh0aGlzLmN1cnJlbnREYXRlKSk7CiAgICB9LAogICAgZ2VuTW9udGg6IGZ1bmN0aW9uIGdlbk1vbnRoKGRhdGUsIGluZGV4KSB7CiAgICAgIHZhciBoID0gdGhpcy4kY3JlYXRlRWxlbWVudDsKICAgICAgdmFyIHNob3dNb250aFRpdGxlID0gaW5kZXggIT09IDAgfHwgIXRoaXMuc2hvd1N1YnRpdGxlOwogICAgICByZXR1cm4gaChNb250aCwgewogICAgICAgICJyZWYiOiAibW9udGhzIiwKICAgICAgICAicmVmSW5Gb3IiOiB0cnVlLAogICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICJkYXRlIjogZGF0ZSwKICAgICAgICAgICJ0eXBlIjogdGhpcy50eXBlLAogICAgICAgICAgImNvbG9yIjogdGhpcy5jb2xvciwKICAgICAgICAgICJtaW5EYXRlIjogdGhpcy5taW5EYXRlLAogICAgICAgICAgIm1heERhdGUiOiB0aGlzLm1heERhdGUsCiAgICAgICAgICAic2hvd01hcmsiOiB0aGlzLnNob3dNYXJrLAogICAgICAgICAgImZvcm1hdHRlciI6IHRoaXMuZm9ybWF0dGVyLAogICAgICAgICAgInJvd0hlaWdodCI6IHRoaXMucm93SGVpZ2h0LAogICAgICAgICAgImxhenlSZW5kZXIiOiB0aGlzLmxhenlSZW5kZXIsCiAgICAgICAgICAiY3VycmVudERhdGUiOiB0aGlzLmN1cnJlbnREYXRlLAogICAgICAgICAgInNob3dTdWJ0aXRsZSI6IHRoaXMuc2hvd1N1YnRpdGxlLAogICAgICAgICAgImFsbG93U2FtZURheSI6IHRoaXMuYWxsb3dTYW1lRGF5LAogICAgICAgICAgInNob3dNb250aFRpdGxlIjogc2hvd01vbnRoVGl0bGUsCiAgICAgICAgICAiZmlyc3REYXlPZldlZWsiOiB0aGlzLmRheU9mZnNldAogICAgICAgIH0sCiAgICAgICAgInNjb3BlZFNsb3RzIjogewogICAgICAgICAgJ3RvcC1pbmZvJzogdGhpcy4kc2NvcGVkU2xvdHNbJ3RvcC1pbmZvJ10sCiAgICAgICAgICAnYm90dG9tLWluZm8nOiB0aGlzLiRzY29wZWRTbG90c1snYm90dG9tLWluZm8nXQogICAgICAgIH0sCiAgICAgICAgIm9uIjogewogICAgICAgICAgImNsaWNrIjogdGhpcy5vbkNsaWNrRGF5CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZW5Gb290ZXJDb250ZW50OiBmdW5jdGlvbiBnZW5Gb290ZXJDb250ZW50KCkgewogICAgICB2YXIgaCA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQ7CiAgICAgIHZhciBzbG90ID0gdGhpcy5zbG90cygnZm9vdGVyJyk7CiAgICAgIGlmIChzbG90KSB7CiAgICAgICAgcmV0dXJuIHNsb3Q7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuc2hvd0NvbmZpcm0pIHsKICAgICAgICB2YXIgdGV4dCA9IHRoaXMuYnV0dG9uRGlzYWJsZWQgPyB0aGlzLmNvbmZpcm1EaXNhYmxlZFRleHQgOiB0aGlzLmNvbmZpcm1UZXh0OwogICAgICAgIHJldHVybiBoKEJ1dHRvbiwgewogICAgICAgICAgImF0dHJzIjogewogICAgICAgICAgICAicm91bmQiOiB0cnVlLAogICAgICAgICAgICAiYmxvY2siOiB0cnVlLAogICAgICAgICAgICAidHlwZSI6ICJkYW5nZXIiLAogICAgICAgICAgICAiY29sb3IiOiB0aGlzLmNvbG9yLAogICAgICAgICAgICAiZGlzYWJsZWQiOiB0aGlzLmJ1dHRvbkRpc2FibGVkLAogICAgICAgICAgICAibmF0aXZlVHlwZSI6ICJidXR0b24iCiAgICAgICAgICB9LAogICAgICAgICAgImNsYXNzIjogYmVtKCdjb25maXJtJyksCiAgICAgICAgICAib24iOiB7CiAgICAgICAgICAgICJjbGljayI6IHRoaXMub25Db25maXJtCiAgICAgICAgICB9CiAgICAgICAgfSwgW3RleHQgfHwgdCgnY29uZmlybScpXSk7CiAgICAgIH0KICAgIH0sCiAgICBnZW5Gb290ZXI6IGZ1bmN0aW9uIGdlbkZvb3RlcigpIHsKICAgICAgdmFyIGggPSB0aGlzLiRjcmVhdGVFbGVtZW50OwogICAgICByZXR1cm4gaCgiZGl2IiwgewogICAgICAgICJjbGFzcyI6IGJlbSgnZm9vdGVyJywgewogICAgICAgICAgdW5maXQ6ICF0aGlzLnNhZmVBcmVhSW5zZXRCb3R0b20KICAgICAgICB9KQogICAgICB9LCBbdGhpcy5nZW5Gb290ZXJDb250ZW50KCldKTsKICAgIH0sCiAgICBnZW5DYWxlbmRhcjogZnVuY3Rpb24gZ2VuQ2FsZW5kYXIoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB2YXIgaCA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQ7CiAgICAgIHJldHVybiBoKCJkaXYiLCB7CiAgICAgICAgImNsYXNzIjogYmVtKCkKICAgICAgfSwgW2goSGVhZGVyLCB7CiAgICAgICAgImF0dHJzIjogewogICAgICAgICAgInRpdGxlIjogdGhpcy50aXRsZSwKICAgICAgICAgICJzaG93VGl0bGUiOiB0aGlzLnNob3dUaXRsZSwKICAgICAgICAgICJzdWJ0aXRsZSI6IHRoaXMuc3VidGl0bGUsCiAgICAgICAgICAic2hvd1N1YnRpdGxlIjogdGhpcy5zaG93U3VidGl0bGUsCiAgICAgICAgICAiZmlyc3REYXlPZldlZWsiOiB0aGlzLmRheU9mZnNldAogICAgICAgIH0sCiAgICAgICAgInNjb3BlZFNsb3RzIjogewogICAgICAgICAgdGl0bGU6IGZ1bmN0aW9uIHRpdGxlKCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXM0LnNsb3RzKCd0aXRsZScpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSksIGgoImRpdiIsIHsKICAgICAgICAicmVmIjogImJvZHkiLAogICAgICAgICJjbGFzcyI6IGJlbSgnYm9keScpLAogICAgICAgICJvbiI6IHsKICAgICAgICAgICJzY3JvbGwiOiB0aGlzLm9uU2Nyb2xsCiAgICAgICAgfQogICAgICB9LCBbdGhpcy5tb250aHMubWFwKHRoaXMuZ2VuTW9udGgpXSksIHRoaXMuZ2VuRm9vdGVyKCldKTsKICAgIH0KICB9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICB2YXIgaCA9IGFyZ3VtZW50c1swXTsKICAgIGlmICh0aGlzLnBvcHBhYmxlKSB7CiAgICAgIHZhciBfYXR0cnM7CiAgICAgIHZhciBjcmVhdGVMaXN0ZW5lciA9IGZ1bmN0aW9uIGNyZWF0ZUxpc3RlbmVyKG5hbWUpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzNS4kZW1pdChuYW1lKTsKICAgICAgICB9OwogICAgICB9OwogICAgICByZXR1cm4gaChQb3B1cCwgewogICAgICAgICJhdHRycyI6IChfYXR0cnMgPSB7CiAgICAgICAgICAicm91bmQiOiB0cnVlLAogICAgICAgICAgInZhbHVlIjogdGhpcy52YWx1ZQogICAgICAgIH0sIF9hdHRyc1sicm91bmQiXSA9IHRoaXMucm91bmQsIF9hdHRyc1sicG9zaXRpb24iXSA9IHRoaXMucG9zaXRpb24sIF9hdHRyc1siY2xvc2VhYmxlIl0gPSB0aGlzLnNob3dUaXRsZSB8fCB0aGlzLnNob3dTdWJ0aXRsZSwgX2F0dHJzWyJnZXRDb250YWluZXIiXSA9IHRoaXMuZ2V0Q29udGFpbmVyLCBfYXR0cnNbImNsb3NlT25Qb3BzdGF0ZSJdID0gdGhpcy5jbG9zZU9uUG9wc3RhdGUsIF9hdHRyc1siY2xvc2VPbkNsaWNrT3ZlcmxheSJdID0gdGhpcy5jbG9zZU9uQ2xpY2tPdmVybGF5LCBfYXR0cnMpLAogICAgICAgICJjbGFzcyI6IGJlbSgncG9wdXAnKSwKICAgICAgICAib24iOiB7CiAgICAgICAgICAiaW5wdXQiOiB0aGlzLnRvZ2dsZVBvcHVwLAogICAgICAgICAgIm9wZW4iOiBjcmVhdGVMaXN0ZW5lcignb3BlbicpLAogICAgICAgICAgIm9wZW5lZCI6IGNyZWF0ZUxpc3RlbmVyKCdvcGVuZWQnKSwKICAgICAgICAgICJjbG9zZSI6IGNyZWF0ZUxpc3RlbmVyKCdjbG9zZScpLAogICAgICAgICAgImNsb3NlZCI6IGNyZWF0ZUxpc3RlbmVyKCdjbG9zZWQnKQogICAgICAgIH0KICAgICAgfSwgW3RoaXMuZ2VuQ2FsZW5kYXIoKV0pOwogICAgfQogICAgcmV0dXJuIHRoaXMuZ2VuQ2FsZW5kYXIoKTsKICB9Cn0pOw=="},null]}