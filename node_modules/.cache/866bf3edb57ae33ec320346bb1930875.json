{"remainingRequest":"/Users/adamliu/works/vant/node_modules/babel-loader/lib/index.js!/Users/adamliu/works/vant/node_modules/node-libs-browser/node_modules/punycode/punycode.js","dependencies":[{"path":"/Users/adamliu/works/vant/node_modules/node-libs-browser/node_modules/punycode/punycode.js","mtime":1694509793599},{"path":"/Users/adamliu/works/vant/babel.config.js","mtime":1694509704583},{"path":"/Users/adamliu/works/vant/node_modules/cache-loader/dist/cjs.js","mtime":1694509793427},{"path":"/Users/adamliu/works/vant/node_modules/babel-loader/lib/index.js","mtime":1694509794381}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyohIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZSB2MS40LjEgYnkgQG1hdGhpYXMgKi8KOwooZnVuY3Rpb24gKHJvb3QpIHsKICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovCiAgdmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzOwogIHZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7CiAgdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDsKICBpZiAoZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHwgZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHwgZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsKSB7CiAgICByb290ID0gZnJlZUdsb2JhbDsKICB9CgogIC8qKgogICAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC4KICAgKiBAbmFtZSBwdW55Y29kZQogICAqIEB0eXBlIE9iamVjdAogICAqLwogIHZhciBwdW55Y29kZSwKICAgIC8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi8KICAgIG1heEludCA9IDIxNDc0ODM2NDcsCiAgICAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xCgogICAgLyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqLwogICAgYmFzZSA9IDM2LAogICAgdE1pbiA9IDEsCiAgICB0TWF4ID0gMjYsCiAgICBza2V3ID0gMzgsCiAgICBkYW1wID0gNzAwLAogICAgaW5pdGlhbEJpYXMgPSA3MiwKICAgIGluaXRpYWxOID0gMTI4LAogICAgLy8gMHg4MAogICAgZGVsaW1pdGVyID0gJy0nLAogICAgLy8gJ1x4MkQnCgogICAgLyoqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgKi8KICAgIHJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLAogICAgcmVnZXhOb25BU0NJSSA9IC9bXlx4MjAtXHg3RV0vLAogICAgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnMKICAgIHJlZ2V4U2VwYXJhdG9ycyA9IC9bXHgyRVx1MzAwMlx1RkYwRVx1RkY2MV0vZywKICAgIC8vIFJGQyAzNDkwIHNlcGFyYXRvcnMKCiAgICAvKiogRXJyb3IgbWVzc2FnZXMgKi8KICAgIGVycm9ycyA9IHsKICAgICAgJ292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJywKICAgICAgJ25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJywKICAgICAgJ2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCcKICAgIH0sCiAgICAvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovCiAgICBiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sCiAgICBmbG9vciA9IE1hdGguZmxvb3IsCiAgICBzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLAogICAgLyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqLwogICAga2V5OwoKICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCiAgLyoqCiAgICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uCiAgICogQHByaXZhdGUKICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXJyb3IgdHlwZS4KICAgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuCiAgICovCiAgZnVuY3Rpb24gZXJyb3IodHlwZSkgewogICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTsKICB9CgogIC8qKgogICAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLgogICAqIEBwcml2YXRlCiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci4KICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXkKICAgKiBpdGVtLgogICAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi4KICAgKi8KICBmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7CiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOwogICAgdmFyIHJlc3VsdCA9IFtdOwogICAgd2hpbGUgKGxlbmd0aC0tKSB7CiAgICAgIHJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgLyoqCiAgICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsCiAgICogYWRkcmVzc2VzLgogICAqIEBwcml2YXRlCiAgICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy4KICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkKICAgKiBjaGFyYWN0ZXIuCiAgICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sKICAgKiBmdW5jdGlvbi4KICAgKi8KICBmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikgewogICAgdmFyIHBhcnRzID0gc3RyaW5nLnNwbGl0KCdAJyk7CiAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICBpZiAocGFydHMubGVuZ3RoID4gMSkgewogICAgICAvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlCiAgICAgIC8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuCiAgICAgIHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnOwogICAgICBzdHJpbmcgPSBwYXJ0c1sxXTsKICAgIH0KICAgIC8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy4KICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1x4MkUnKTsKICAgIHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTsKICAgIHZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTsKICAgIHJldHVybiByZXN1bHQgKyBlbmNvZGVkOwogIH0KCiAgLyoqCiAgICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZQogICAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSwKICAgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaAogICAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LAogICAqIG1hdGNoaW5nIFVURi0xNi4KICAgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWAKICAgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz4KICAgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMgogICAqIEBuYW1lIGRlY29kZQogICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuCiAgICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLgogICAqLwogIGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7CiAgICB2YXIgb3V0cHV0ID0gW10sCiAgICAgIGNvdW50ZXIgPSAwLAogICAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLAogICAgICB2YWx1ZSwKICAgICAgZXh0cmE7CiAgICB3aGlsZSAoY291bnRlciA8IGxlbmd0aCkgewogICAgICB2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7CiAgICAgIGlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHsKICAgICAgICAvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXIKICAgICAgICBleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7CiAgICAgICAgaWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7CiAgICAgICAgICAvLyBsb3cgc3Vycm9nYXRlCiAgICAgICAgICBvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dAogICAgICAgICAgLy8gY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyCiAgICAgICAgICBvdXRwdXQucHVzaCh2YWx1ZSk7CiAgICAgICAgICBjb3VudGVyLS07CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIG91dHB1dC5wdXNoKHZhbHVlKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIG91dHB1dDsKICB9CgogIC8qKgogICAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy4KICAgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmRlY29kZWAKICAgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMgogICAqIEBuYW1lIGVuY29kZQogICAqIEBwYXJhbSB7QXJyYXl9IGNvZGVQb2ludHMgVGhlIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuCiAgICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLgogICAqLwogIGZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHsKICAgIHJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICB2YXIgb3V0cHV0ID0gJyc7CiAgICAgIGlmICh2YWx1ZSA+IDB4RkZGRikgewogICAgICAgIHZhbHVlIC09IDB4MTAwMDA7CiAgICAgICAgb3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7CiAgICAgICAgdmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGOwogICAgICB9CiAgICAgIG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpOwogICAgICByZXR1cm4gb3V0cHV0OwogICAgfSkuam9pbignJyk7CiAgfQoKICAvKioKICAgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuCiAgICogQHNlZSBgZGlnaXRUb0Jhc2ljKClgCiAgICogQHByaXZhdGUKICAgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuCiAgICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50IChmb3IgdXNlIGluCiAgICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZgogICAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLgogICAqLwogIGZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHsKICAgIGlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7CiAgICAgIHJldHVybiBjb2RlUG9pbnQgLSAyMjsKICAgIH0KICAgIGlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7CiAgICAgIHJldHVybiBjb2RlUG9pbnQgLSA2NTsKICAgIH0KICAgIGlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7CiAgICAgIHJldHVybiBjb2RlUG9pbnQgLSA5NzsKICAgIH0KICAgIHJldHVybiBiYXNlOwogIH0KCiAgLyoqCiAgICogQ29udmVydHMgYSBkaWdpdC9pbnRlZ2VyIGludG8gYSBiYXNpYyBjb2RlIHBvaW50LgogICAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYAogICAqIEBwcml2YXRlCiAgICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludC4KICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvcgogICAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlCiAgICogYDBgIHRvIGBiYXNlIC0gMWAuIElmIGBmbGFnYCBpcyBub24temVybywgdGhlIHVwcGVyY2FzZSBmb3JtIGlzCiAgICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWQKICAgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLgogICAqLwogIGZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykgewogICAgLy8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLloKICAgIC8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOQogICAgcmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTsKICB9CgogIC8qKgogICAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuCiAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjQKICAgKiBAcHJpdmF0ZQogICAqLwogIGZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkgewogICAgdmFyIGsgPSAwOwogICAgZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTsKICAgIGRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTsKICAgIGZvciAvKiBubyBpbml0aWFsaXphdGlvbiAqLwogICAgKDsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHsKICAgICAgZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pOwogICAgfQogICAgcmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7CiAgfQoKICAvKioKICAgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMgdG8gYSBzdHJpbmcgb2YgVW5pY29kZQogICAqIHN5bWJvbHMuCiAgICogQG1lbWJlck9mIHB1bnljb2RlCiAgICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLgogICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy4KICAgKi8KICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHsKICAgIC8vIERvbid0IHVzZSBVQ1MtMgogICAgdmFyIG91dHB1dCA9IFtdLAogICAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCwKICAgICAgb3V0LAogICAgICBpID0gMCwKICAgICAgbiA9IGluaXRpYWxOLAogICAgICBiaWFzID0gaW5pdGlhbEJpYXMsCiAgICAgIGJhc2ljLAogICAgICBqLAogICAgICBpbmRleCwKICAgICAgb2xkaSwKICAgICAgdywKICAgICAgaywKICAgICAgZGlnaXQsCiAgICAgIHQsCiAgICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqLwogICAgICBiYXNlTWludXNUOwoKICAgIC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZQogICAgLy8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHkKICAgIC8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LgoKICAgIGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTsKICAgIGlmIChiYXNpYyA8IDApIHsKICAgICAgYmFzaWMgPSAwOwogICAgfQogICAgZm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHsKICAgICAgLy8gaWYgaXQncyBub3QgYSBiYXNpYyBjb2RlIHBvaW50CiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KGopID49IDB4ODApIHsKICAgICAgICBlcnJvcignbm90LWJhc2ljJyk7CiAgICAgIH0KICAgICAgb3V0cHV0LnB1c2goaW5wdXQuY2hhckNvZGVBdChqKSk7CiAgICB9CgogICAgLy8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZQogICAgLy8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS4KCiAgICBmb3IgLyogbm8gZmluYWwgZXhwcmVzc2lvbiAqLwogICAgKGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDspIHsKICAgICAgLy8gYGluZGV4YCBpcyB0aGUgaW5kZXggb2YgdGhlIG5leHQgY2hhcmFjdGVyIHRvIGJlIGNvbnN1bWVkLgogICAgICAvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsCiAgICAgIC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyCiAgICAgIC8vIGlmIHdlIGluY3JlYXNlIGBpYCBhcyB3ZSBnbywgdGhlbiBzdWJ0cmFjdCBvZmYgaXRzIHN0YXJ0aW5nCiAgICAgIC8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuCiAgICAgIGZvciAvKiBubyBjb25kaXRpb24gKi8KICAgICAgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7OyBrICs9IGJhc2UpIHsKICAgICAgICBpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHsKICAgICAgICAgIGVycm9yKCdpbnZhbGlkLWlucHV0Jyk7CiAgICAgICAgfQogICAgICAgIGRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpOwogICAgICAgIGlmIChkaWdpdCA+PSBiYXNlIHx8IGRpZ2l0ID4gZmxvb3IoKG1heEludCAtIGkpIC8gdykpIHsKICAgICAgICAgIGVycm9yKCdvdmVyZmxvdycpOwogICAgICAgIH0KICAgICAgICBpICs9IGRpZ2l0ICogdzsKICAgICAgICB0ID0gayA8PSBiaWFzID8gdE1pbiA6IGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXM7CiAgICAgICAgaWYgKGRpZ2l0IDwgdCkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGJhc2VNaW51c1QgPSBiYXNlIC0gdDsKICAgICAgICBpZiAodyA+IGZsb29yKG1heEludCAvIGJhc2VNaW51c1QpKSB7CiAgICAgICAgICBlcnJvcignb3ZlcmZsb3cnKTsKICAgICAgICB9CiAgICAgICAgdyAqPSBiYXNlTWludXNUOwogICAgICB9CiAgICAgIG91dCA9IG91dHB1dC5sZW5ndGggKyAxOwogICAgICBiaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTsKCiAgICAgIC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsCiAgICAgIC8vIGluY3JlbWVudGluZyBgbmAgZWFjaCB0aW1lLCBzbyB3ZSdsbCBmaXggdGhhdCBub3c6CiAgICAgIGlmIChmbG9vcihpIC8gb3V0KSA+IG1heEludCAtIG4pIHsKICAgICAgICBlcnJvcignb3ZlcmZsb3cnKTsKICAgICAgfQogICAgICBuICs9IGZsb29yKGkgLyBvdXQpOwogICAgICBpICU9IG91dDsKCiAgICAgIC8vIEluc2VydCBgbmAgYXQgcG9zaXRpb24gYGlgIG9mIHRoZSBvdXRwdXQKICAgICAgb3V0cHV0LnNwbGljZShpKyssIDAsIG4pOwogICAgfQogICAgcmV0dXJuIHVjczJlbmNvZGUob3V0cHV0KTsKICB9CgogIC8qKgogICAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhCiAgICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KICAgKiBAbWVtYmVyT2YgcHVueWNvZGUKICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuCiAgICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLgogICAqLwogIGZ1bmN0aW9uIGVuY29kZShpbnB1dCkgewogICAgdmFyIG4sCiAgICAgIGRlbHRhLAogICAgICBoYW5kbGVkQ1BDb3VudCwKICAgICAgYmFzaWNMZW5ndGgsCiAgICAgIGJpYXMsCiAgICAgIGosCiAgICAgIG0sCiAgICAgIHEsCiAgICAgIGssCiAgICAgIHQsCiAgICAgIGN1cnJlbnRWYWx1ZSwKICAgICAgb3V0cHV0ID0gW10sCiAgICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovCiAgICAgIGlucHV0TGVuZ3RoLAogICAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi8KICAgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLAogICAgICBiYXNlTWludXNULAogICAgICBxTWludXNUOwoKICAgIC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGUKICAgIGlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7CgogICAgLy8gQ2FjaGUgdGhlIGxlbmd0aAogICAgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7CgogICAgLy8gSW5pdGlhbGl6ZSB0aGUgc3RhdGUKICAgIG4gPSBpbml0aWFsTjsKICAgIGRlbHRhID0gMDsKICAgIGJpYXMgPSBpbml0aWFsQmlhczsKCiAgICAvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzCiAgICBmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikgewogICAgICBjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHsKICAgICAgICBvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7CiAgICAgIH0KICAgIH0KICAgIGhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoOwoKICAgIC8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkOwogICAgLy8gYGJhc2ljTGVuZ3RoYCBpcyB0aGUgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLgoKICAgIC8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlcgogICAgaWYgKGJhc2ljTGVuZ3RoKSB7CiAgICAgIG91dHB1dC5wdXNoKGRlbGltaXRlcik7CiAgICB9CgogICAgLy8gTWFpbiBlbmNvZGluZyBsb29wOgogICAgd2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHsKICAgICAgLy8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dAogICAgICAvLyBsYXJnZXIgb25lOgogICAgICBmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikgewogICAgICAgIGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdOwogICAgICAgIGlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7CiAgICAgICAgICBtID0gY3VycmVudFZhbHVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LAogICAgICAvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvdwogICAgICBoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7CiAgICAgIGlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7CiAgICAgICAgZXJyb3IoJ292ZXJmbG93Jyk7CiAgICAgIH0KICAgICAgZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTsKICAgICAgbiA9IG07CiAgICAgIGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7CiAgICAgICAgY3VycmVudFZhbHVlID0gaW5wdXRbal07CiAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkgewogICAgICAgICAgZXJyb3IoJ292ZXJmbG93Jyk7CiAgICAgICAgfQogICAgICAgIGlmIChjdXJyZW50VmFsdWUgPT0gbikgewogICAgICAgICAgLy8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIKICAgICAgICAgIGZvciAvKiBubyBjb25kaXRpb24gKi8KICAgICAgICAgIChxID0gZGVsdGEsIGsgPSBiYXNlOzsgayArPSBiYXNlKSB7CiAgICAgICAgICAgIHQgPSBrIDw9IGJpYXMgPyB0TWluIDogayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhczsKICAgICAgICAgICAgaWYgKHEgPCB0KSB7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcU1pbnVzVCA9IHEgLSB0OwogICAgICAgICAgICBiYXNlTWludXNUID0gYmFzZSAtIHQ7CiAgICAgICAgICAgIG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSkpOwogICAgICAgICAgICBxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpOwogICAgICAgICAgfQogICAgICAgICAgb3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyhxLCAwKSkpOwogICAgICAgICAgYmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTsKICAgICAgICAgIGRlbHRhID0gMDsKICAgICAgICAgICsraGFuZGxlZENQQ291bnQ7CiAgICAgICAgfQogICAgICB9CiAgICAgICsrZGVsdGE7CiAgICAgICsrbjsKICAgIH0KICAgIHJldHVybiBvdXRwdXQuam9pbignJyk7CiAgfQoKICAvKioKICAgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzCiAgICogdG8gVW5pY29kZS4gT25seSB0aGUgUHVueWNvZGVkIHBhcnRzIG9mIHRoZSBpbnB1dCB3aWxsIGJlIGNvbnZlcnRlZCwgaS5lLgogICAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlbgogICAqIGNvbnZlcnRlZCB0byBVbmljb2RlLgogICAqIEBtZW1iZXJPZiBwdW55Y29kZQogICAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8KICAgKiBjb252ZXJ0IHRvIFVuaWNvZGUuCiAgICogQHJldHVybnMge1N0cmluZ30gVGhlIFVuaWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIFB1bnljb2RlCiAgICogc3RyaW5nLgogICAqLwogIGZ1bmN0aW9uIHRvVW5pY29kZShpbnB1dCkgewogICAgcmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24gKHN0cmluZykgewogICAgICByZXR1cm4gcmVnZXhQdW55Y29kZS50ZXN0KHN0cmluZykgPyBkZWNvZGUoc3RyaW5nLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpIDogc3RyaW5nOwogICAgfSk7CiAgfQoKICAvKioKICAgKiBDb252ZXJ0cyBhIFVuaWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MgdG8KICAgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCwKICAgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW4KICAgKiBBU0NJSS4KICAgKiBAbWVtYmVyT2YgcHVueWNvZGUKICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYQogICAqIFVuaWNvZGUgc3RyaW5nLgogICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3IKICAgKiBlbWFpbCBhZGRyZXNzLgogICAqLwogIGZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHsKICAgIHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uIChzdHJpbmcpIHsKICAgICAgcmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpID8gJ3huLS0nICsgZW5jb2RlKHN0cmluZykgOiBzdHJpbmc7CiAgICB9KTsKICB9CgogIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKICAvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovCiAgcHVueWNvZGUgPSB7CiAgICAvKioKICAgICAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci4KICAgICAqIEBtZW1iZXJPZiBwdW55Y29kZQogICAgICogQHR5cGUgU3RyaW5nCiAgICAgKi8KICAgICd2ZXJzaW9uJzogJzEuNC4xJywKICAgIC8qKgogICAgICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXIKICAgICAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suCiAgICAgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz4KICAgICAqIEBtZW1iZXJPZiBwdW55Y29kZQogICAgICogQHR5cGUgT2JqZWN0CiAgICAgKi8KICAgICd1Y3MyJzogewogICAgICAnZGVjb2RlJzogdWNzMmRlY29kZSwKICAgICAgJ2VuY29kZSc6IHVjczJlbmNvZGUKICAgIH0sCiAgICAnZGVjb2RlJzogZGVjb2RlLAogICAgJ2VuY29kZSc6IGVuY29kZSwKICAgICd0b0FTQ0lJJzogdG9BU0NJSSwKICAgICd0b1VuaWNvZGUnOiB0b1VuaWNvZGUKICB9OwoKICAvKiogRXhwb3NlIGBwdW55Y29kZWAgKi8KICAvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnMKICAvLyBsaWtlIHRoZSBmb2xsb3dpbmc6CiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7CiAgICBkZWZpbmUoJ3B1bnljb2RlJywgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcHVueWNvZGU7CiAgICB9KTsKICB9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHsKICAgIGlmIChtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cykgewogICAgICAvLyBpbiBOb2RlLmpzLCBpby5qcywgb3IgUmluZ29KUyB2MC44LjArCiAgICAgIGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlOwogICAgfSBlbHNlIHsKICAgICAgLy8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC0KICAgICAgZm9yIChrZXkgaW4gcHVueWNvZGUpIHsKICAgICAgICBwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7CiAgICAgIH0KICAgIH0KICB9IGVsc2UgewogICAgLy8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlcgogICAgcm9vdC5wdW55Y29kZSA9IHB1bnljb2RlOwogIH0KfSkodGhpcyk7"},null]}